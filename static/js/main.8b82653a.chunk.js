(this["webpackJsonpoucc-react"]=this["webpackJsonpoucc-react"]||[]).push([[0],{10:function(e,t,n){e.exports={page:"page_page__g1c2x",main:"page_main__jGfys",section:"page_section__1fg7U",wide:"page_wide__PCvHR",mobilePage:"page_mobilePage__AiV44",mobileMain:"page_mobileMain__3xbCq",mobileSection:"page_mobileSection__-Ut7s"}},13:function(e,t,n){e.exports={profile:"components_profile__3x-uE",thumbnail:"components_thumbnail__2zEfG",leftPane:"components_leftPane__1eZcm",text:"components_text__2pHeI",board:"components_board__pYlRj",input:"components_input__38iVB",textarea:"components_textarea__3U2rR",contactForm:"components_contactForm__cJkrq",contactTable:"components_contactTable__8KJVO",grid:"components_grid__3JWL4",carousel:"components_carousel__1Xcsw",jotform:"components_jotform__26jv7"}},132:function(e,t,n){e.exports=n.p+"static/media/facebook.2c121c2e.png"},133:function(e,t,n){e.exports=n.p+"static/media/twitter.b835b27b.png"},134:function(e,t,n){e.exports=n.p+"static/media/linkedin.b424c19c.png"},135:function(e,t,n){e.exports=n.p+"static/media/mail.ebed66a8.png"},144:function(e){e.exports=JSON.parse('{"name":"oucc-react","version":"1.2.0","private":false,"homepage_gh":"https://oxfordunichess.github.io/oucc-frontend/","homepage":"http://users.ox.ac.uk/~chess/","source":"https://github.com/oxfordunichess/oucc-frontend","scripts":{"start":"react-scripts start","seo":"react-snapshot","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"yarn build --homepage gh","deploy":"gh-pages -d build","sync-build":"tsc scripts/*.ts --jsx react","sync":"node scripts/cacheIndex"},"dependencies":{"axios":"^0.19.0","dotenv":"^8.2.0","he":"^1.2.0","html-react-parser":"^0.10.0","html-to-react":"^1.4.2","papaparse":"^5.1.0","react":"^16.13.1","react-dom":"^16.11.0","react-helmet":"^5.2.1","react-images":"^1.1.0-beta.3","react-markdown":"^4.2.2","react-photo-gallery":"^8.0.0","react-responsive-carousel":"^3.1.51","react-router-dom":"^5.1.2","react-scripts":"^3.4.1","url":"^0.11.0","webpack":"^4.41.2"},"license":"MIT","eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@hapi/wreck":"^17.0.0","@types/babel__core":"^7.1.3","@types/he":"^1.1.0","@types/md5":"^2.1.33","@types/nodemailer":"^6.4.0","@types/papaparse":"^5.0.1","@types/react":"^16.9.11","@types/react-helmet":"^5.0.14","@types/react-images":"^0.5.1","@types/react-router-dom":"^5.1.2","@types/sha256":"^0.2.0","@types/simple-oauth2":"^2.5.2","array.prototype.flat":"^1.2.2","create-react-app":"^3.2.0","eslint-plugin-react":"^7.16.0","kind-of":"^6.0.3","typescript":"^3.7.2","typescript-plugin-css-modules":"^2.1.0"}}')},146:function(e,t,n){e.exports=n(388)},151:function(e,t,n){},153:function(e,t,n){},154:function(e,t){},25:function(e,t,n){e.exports={footer:"footer_footer__1ZjHM",link:"footer_link__2i2S6",image:"footer_image__1zR-F"}},261:function(e,t,n){var a={"./calendar.module.css":262,"./components.module.css":13,"./footer.module.css":25,"./header.module.css":4,"./page.module.css":10};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=261},262:function(e,t,n){e.exports={container:"calendar_container__3jc5j",tableContainer:"calendar_tableContainer__1d5am",table:"calendar_table__1STq8",key:"calendar_key__10QPp",status:"calendar_status__328_7",event:"calendar_event__Fpsnm",eventHeader:"calendar_eventHeader__1LM4e",eventName:"calendar_eventName__11Rtc",eventTitle:"calendar_eventTitle__253CO",noEvent:"calendar_noEvent__21QAe",firstColumn:"calendar_firstColumn__2TydK",cell:"calendar_cell__b_gO3",today:"calendar_today__36RHA",toolContainer:"calendar_toolContainer__3iaLn",tooltip:"calendar_tooltip__76C0K"}},379:function(e,t){},388:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),s=(n(151),n(9)),o=n.n(s),c=n(12),l=n(6),u=n(5),m=n(7),p=n(8),h=n(3),d=(n(153),n(26)),f=n(15),v=(n(154),n(46)),b=Object(a.createContext)(""),g=n(77),y=n.n(g),k="https://oxfordunichess.github.io/oucc-backend/";y.a.defaults.baseURL=k;var _=y.a,w=n(4),E=n.n(w),j=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).context=void 0,e.state={subnav:"",expanded:!1,navigation:{}},e.navToggle=function(t){e.state.subnav===t?e.setState({subnav:""}):e.setState({subnav:t})},e.toggleThumb=function(){e.setState({subnav:"members",expanded:!e.state.expanded})},e}return Object(u.a)(n,[{key:"getNavigationData",value:function(){return _({url:"navigation.json",params:{sessionID:this.context}}).then((function(e){return e.data})).catch(console.error)}},{key:"componentDidMount",value:function(){var e=this;this.getNavigationData().then((function(t){e.setState({navigation:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[E.a.header,E.a.mobileHeader].join(" ")},r.a.createElement("div",{className:[E.a.bannerContainer,E.a.mobileContainer].join(" ")},r.a.createElement("div",{className:[E.a.banner,E.a.mobileBanner].join(" ")},r.a.createElement("div",{className:E.a.mobileTextContainer},"Oxford University Chess Club")))),r.a.createElement("div",{className:E.a.mobileMenu},this.state.expanded?r.a.createElement("div",{className:[E.a.mobileLinks,this.state.expanded?E.a.mobileLinksShown:E.a.mobileLinksHidden].join(" ")},Object.entries(this.state.navigation).map((function(t,n){var a=Object(h.a)(t,2),i=a[0],s=Object(v.a)(a[1]),o=(s[0],s[1]),c=s.slice(2);return r.a.createElement("div",{key:[o,n].join("."),className:E.a.mobileSection},c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:E.a.dropParent,onClick:function(){return e.navToggle(i)}},c.length?e.state.subnav===i?"\u25bd":"\u25b7":""," ",o),e.state.subnav===i?c.map((function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return r.a.createElement(f.b,{key:n.slice(1),className:[E.a.dropParent,E.a.dropChild].join(" "),to:n},a)})):null):r.a.createElement(f.b,{className:E.a.dropParent,to:"/"+i},o))})),r.a.createElement("div",{className:E.a.mobileSection},r.a.createElement(f.b,{className:E.a.dropParent,to:"/"},"Home"))):null,r.a.createElement("div",{className:E.a.mobileThumbContainer,onClick:this.toggleThumb},r.a.createElement("img",{src:"/~chess/images/oucclogo.jpg",alt:""}))))}}]),n}(r.a.Component);j.contextType=b;var O=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).context=void 0,e._nav=void 0,e.state={subnav:"members",navigation:{}},e}return Object(u.a)(n,[{key:"navToggle",value:function(e){this.state.subnav===e?this.navLeave():this.navEnter(e)}},{key:"navEnter",value:function(e){this.setState({subnav:e})}},{key:"navLeave",value:function(){this.setState({subnav:""})}},{key:"renderNav",value:function(e){var t=this,n=window.location.pathname;this._nav||(this._nav={});var a=r.a.createElement("div",{className:E.a.nav+" "+E.a[e]},"left"!==e?null:r.a.createElement("div",{className:E.a.section},r.a.createElement("div",{className:E.a.spacer})),Object.entries(this.state.navigation).map((function(a,i){var s=Object(h.a)(a,2),o=s[0],c=Object(v.a)(s[1]),l=c[0],u=c[1],m=c.slice(2);return l!==e?null:r.a.createElement("div",{key:[u,i].join("."),className:E.a.section,onClick:function(){return t.navToggle(o)},onMouseEnter:function(){return t.navEnter(o)},onMouseLeave:function(){return t.navLeave()}},r.a.createElement(f.b,{className:[E.a.dropParent,n.includes(o)||m.length&&m.some((function(e){return e[0]===n}))?E.a.selected:""].join(" "),key:o,to:"/"+o},u),m.length&&t.state.subnav===o?m.map((function(e){var t=Object(h.a)(e,2),a=t[0],i=t[1];return r.a.createElement(f.b,{key:a.slice(1),to:a,className:[E.a.dropParent,E.a.dropChild,n.includes(a)?E.a.selected:""].join(" ")},i)})):null)})),"right"!==e?null:r.a.createElement("div",{className:E.a.section},r.a.createElement("div",{className:E.a.spacer})));return Object.keys(this.state.navigation).length?this._nav[e]=a:a}},{key:"getNavigationData",value:function(){return _({url:"navigation.json",params:{sessionID:this.context}}).then((function(e){return e.data})).catch(console.error)}},{key:"componentDidMount",value:function(){var e=this;this.getNavigationData().then((function(t){t&&e.setState({navigation:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:E.a.bannerContainer},r.a.createElement("div",{className:E.a.banner},this.renderNav("left"),r.a.createElement(f.b,{className:E.a.oucc_logo,to:"/",style:{backgroundImage:"url(".concat("/~chess","/images/oucclogo.jpg"),overflowY:"visible"}}),this.renderNav("right")))}}]),n}(r.a.Component);O.contextType=b;var x=/\w+/g,C=/<img\s+.*?src=["'](.*).*?">/,N=/^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}_/,D=/^(https?:)?\/\//,S=/\\n+/g,T=[/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i],L=/(gif|jpe?g|tiff|png|webp|bmp)$/i,A=n(4),I=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={navigation:{},feedPosition:0,width:0},e}return Object(u.a)(n,[{key:"getNewsFeed",value:function(e){var t=this,a=this.state.width,i=window.innerWidth;return this.props.articles.map((function(s,o){var c=e?Object.entries(t.refs).filter((function(e){return Object(h.a)(e,1)[0].startsWith("feed")})).map((function(e){var n=Object(h.a)(e,2);n[0];return n[1].offsetLeft-t.state.width})):[],l=e?(e+c[o]-i)%a+i-c[o]:0;if("string"!==typeof s)return null;if(!s||"function"!==typeof s.split)return console.error("Bad Markdown document:\n",s),null;for(var u=s.split("\n").shift().trim();u.startsWith("#");)u=u.slice(1);var m=u.match(x).join("-").toLowerCase();return r.a.createElement("div",{key:m+".container",style:e?{transform:"translate3d(".concat(l,"px, 0, 0)")}:{}},r.a.createElement("a",{href:n.setSection(window.location,m),ref:"feed"+o,key:m},u)," \u2022 ")}))}},{key:"componentDidUpdate",value:function(){this.state.width||this.refs.dummy&&this.refs.dummy.scrollWidth&&this.setState({width:this.refs.dummy.scrollWidth})}},{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setInterval((function(){var e=t.state.feedPosition;t.setState({feedPosition:e+.5})}),1e3/60);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:A.newsFeed},r.a.createElement("div",{className:A.intro},"Latest News:"),r.a.createElement("div",null),r.a.createElement("div",{className:A.runner},r.a.createElement("div",{ref:"runner"},this.getNewsFeed(-this.state.feedPosition)),r.a.createElement("div",{ref:"dummy",style:{visibility:"hidden"}},this.getNewsFeed())))}}],[{key:"setSection",value:function(e,t){return"/~chess/curr_news#"+t}}]),n}(r.a.Component),U=n(4),M=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:U.header},r.a.createElement(O,null),r.a.createElement(I,{articles:this.props.articles}))}}]),n}(r.a.Component),P=n(48),R=n.n(P),F=n(23),H=n(14),W=n.n(H);function z(e){return D.test(e.href)?r.a.createElement("a",{href:e.href},e.children):e.href.startsWith("../")?r.a.createElement("a",{href:W.a.resolve(k+"pages/",e.href)},e.children):e.href.startsWith("./")?r.a.createElement("a",{href:W.a.resolve(k,e.href)},e.children):r.a.createElement(f.b,{to:e.href},e.children)}var q=n(13),B=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=D.test(this.props.thumbnail)?this.props.thumbnail:W.a.resolve(k,"images/logos/"+this.props.thumbnail);return r.a.createElement("div",{className:q.profile},r.a.createElement("div",{className:q.rightPane},r.a.createElement("img",{className:q.thumbnail,src:e,alt:this.props.thumbnail})),r.a.createElement("div",{className:q.leftPane},r.a.createElement("div",null,r.a.createElement("h2",null,this.props.name)),r.a.createElement("div",null,r.a.createElement("h3",null,this.props.subtitle),this.props.links.split("\\n").map((function(e,t){var n=e.split(","),a=Object(h.a)(n,2),i=a[0],s=a[1];return s?r.a.createElement("h3",{key:["text",t].join(".")},r.a.createElement("a",{key:[i.slice(0,5),t].join("."),href:s,target:"_blank",rel:"noopener noreferrer"},i)):r.a.createElement("h3",{key:["text",t].join(".")},i)})))),r.a.createElement("div",{className:q.centerPane},r.a.createElement("div",{className:q.text},this.props.description.replace(S,"\n\n"))))}}]),n}(r.a.Component),K=n(138),J=n.n(K);function G(e){if("string"!==typeof e)throw new TypeError;return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}var V=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={table:null,date:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.src){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Promise.all([n.getData("data/"+this.props.src,this.props.sessionID).then((function(e){t.props.src.endsWith(".csv")&&(e=J.a.parse(e,{header:!0,dynamicTyping:!0,skipEmptyLines:"greedy"}).data.map((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];a||delete e[a]}return e})));return e})).then((function(e){return n.generateTablefromJSON(e)})).then((function(e){t.setState({table:e})})).catch(console.error),n.getDate("data/"+this.props.src).then((function(e){return e[0]?new Date(e.shift().commit.committer.date):new Date})).then((function(e){t.setState({date:e})})).catch(console.error)]));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{textAlign:"right"}},this.state.date?"Last updated: "+this.state.date.toString().slice(0,24):""),this.state.table)}}],[{key:"getData",value:function(e,t){return _({url:e,params:{sessionID:t}}).then((function(e){return e.data})).catch((function(e){return console.error(e),[null]}))}},{key:"generateTablefromJSON",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(t[0]),e.abrupt("return",r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,n.map((function(e,t){return r.a.createElement("th",{key:[e,t].join("."),scope:"column"},G(e))})))),r.a.createElement("tbody",null,t.map((function(e){var t=Object.values(e)[0]?Object.values(e)[0].toString().toLowerCase().replace(/\s+/g,"-"):null;return r.a.createElement("tr",{key:t,id:t},n.map((function(t,n){return r.a.createElement("td",{key:[t,n].join(".")},t in e?e[t]:null)})))})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDate",value:function(e){return _({baseURL:"https://api.github.com/repos/oxfordunichess/oucc-backend/",url:"commits",params:{path:e,page:1,per_page:1}}).then((function(e){return e.data})).catch((function(e){return console.error(e),[null]}))}}]),n}(r.a.Component),Y=n(75),Q=n.n(Y),Z={board:"icy_sea",pieces:"alpha",coords:0,size:2,url:{board:"https://www.chess.com/dynboard|",analysis:"https://lichess.org/analysis?fen=|",crazyhouse:"https://lichess.org/analysis/crazyhouse/|",threeCheck:"https://lichess.org/analysis/threeCheck/|","racing-kings":"",chess:""}},X=function(){function e(t){if(Object(l.a)(this,e),this.argument=t,this._fenArray=void 0,this._positionFenArray=void 0,this._flip=void 0,this._variant=void 0,this._checks=void 0,!this.fen)throw new Error("Invalid FEN!")}return Object(u.a)(e,null,[{key:"regexString",get:function(){return"((?:(?:[pnbrqkPNBRQK~1-8]{1,8})\\/?){8})((?:[pnbrqkPNBRQK]{1,31})\\/?)?\\s+(b|w)\\s+(-|K?Q?k?q?)\\s+(-|[a-h][3-6])\\s+(\\d+)\\s+(\\d+)\\s*(\\+[0-3]\\+[0-3])?"}},{key:"regex",get:function(){return e._regex?e._regex:e._regex=new RegExp(e.regexString)}}]),Object(u.a)(e,[{key:"toJSON",value:function(){return{colour:this.colour,analysisURL:this.analysisURL,imageURL:this.imageURL,description:this.description}}},{key:"fenArray",get:function(){if(this._fenArray)return this._fenArray;var t=this.argument.match(e.regex);return this._fenArray=t||[]}},{key:"positionFenArray",get:function(){if(this._positionFenArray)return this._positionFenArray;var e=this.fenArray.slice(1).reduce((function(e,t){return null===t||void 0===t||e.push(t),e}),[]);return e[0].endsWith("/")&&(e[0]=e[0].slice(0,-1)),"crazyhouse"===this.variant?e.splice(1,1):"threeCheck"===this.variant&&e.splice(6,1),this._positionFenArray=e}},{key:"fen",get:function(){return this.fenArray[0]}},{key:"positionfen",get:function(){return this.positionFenArray.join(" ").replace(/~/,"")}},{key:"colour",get:function(){return"b"===this.positionFenArray[1]?"black":"white"}},{key:"flip",get:function(){return this._flip?this._flip:"racing-kings"!==this.variant&&(this._flip="black"===this.colour)}},{key:"variant",get:function(){return this._variant?this._variant:this.inhand?this._variant="crazyhouse":this.checks?this._variant="threeCheck":this._variant="chess"}},{key:"inhand",get:function(){if(this.fenArray[2]){var e=this.fenArray[2].match(/(?:[pnbrqkPNBRQK]{1,16})\/?/);return e[1]=e[0].replace(/[^A-Z]/g,""),e[2]=e[0].replace(/[^a-z]/g,""),e||[]}}},{key:"checks",get:function(){if(this._checks)return this._checks;if(this.fenArray[8]){var e=this.fenArray[8].match(/\+([0-3])\+([0-3])/).map((function(e){return isNaN(Number(e))?e:Number(e)}));return this._checks=e||[this.fenArray[8],0,0]}}},{key:"description",get:function(){return/^crazyhouse|threeCheck$/.test(this.variant)?("crazyhouse"===this.variant?(e=this.inhand[1].split("").join(" "),t=this.inhand[2].split("").join(" ")):"threeCheck"===this.variant&&(e="White checks: "+("+".repeat(this.checks[1])||"").bold(),t="Black checks: "+("+".repeat(this.checks[2])||"").bold()),this.flip?e+"\n"+t:t+"\n"+e):"";var e,t}},{key:"lastMove",get:function(){return null}},{key:"imageURL",get:function(){return Z.url.board.replace("|","?"+Q.a.stringify({fen:this.positionfen,board:Z.board,piece:Z.pieces,coordinates:Z.coords,size:Z.size,flip:this.flip?1:0,ext:".png"}))}},{key:"analysisURL",get:function(){var e=Z.url[this.variant];return e?e.replace("|",this.fen.replace(/\s+/g,"_")):Z.url.analysis.replace("|",encodeURIComponent(this.fen))}}]),e}();X._regex=void 0;var $=n(13),ee=n.n($),te=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=new X(this.props.src);return r.a.createElement("div",{className:ee.a.board},e.description,r.a.createElement("a",{href:e.analysisURL,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.imageURL,alt:"fen: "+e.positionfen})))}}]),n}(r.a.Component),ne=n(49),ae=n(139),re=n.n(ae),ie={space:/\s+/g,facebook:/(?:(?:http|https):\/\/)?(?:www.)?facebook.com\/(?:events\/)?(?:[0-9]*\/)/},se=function(){function e(t,n,a){var r=a.locationReplacers,i=a.mapsLink;Object(l.a)(this,e),this.link=void 0,this.title=void 0,this.status=void 0,this.start=void 0,this.created=void 0,this.end=void 0,this.calendarID=void 0,this.calendarName=void 0,this.color=void 0,this.rawLocation=void 0,this.locationReplacers=void 0,this.rawDescription=void 0,this.map=void 0,this._location=void 0,this._facebookEvent=void 0,this._description=void 0,this.created=new Date(n.created),this.link=n.htmlLink,this.title=n.summary,this.status=n.status,this.start=new Date(n.start.dateTime),this.end=new Date(n.end.dateTime),this.calendarID=t.id,this.calendarName=t.name,this.color=t.color,this.rawLocation=n.location||"",this.locationReplacers=r,this.rawDescription=re.a.decode(n.description||""),this.map=i?i+this.rawLocation.replace(ie.space,"+"):""}return Object(u.a)(e,[{key:"location",get:function(){if(this._location)return this._location;var e,t=this.rawLocation.split(",").shift();return e=this.locationReplacers[t]?this.locationReplacers[t]:t,this._location=e}},{key:"facebookEvent",get:function(){if(this._facebookEvent)return this._facebookEvent;var e="";return ie.facebook.test(this.rawDescription)&&(e=this.rawDescription.match(ie.facebook)[0]),this._facebookEvent=e}},{key:"description",get:function(){if(this._description)return this._description;for(var e=this.rawDescription,t=e.indexOf("<a");-1!==t;){var n=e.indexOf("/a>")+3;t=(e=e.slice(0,t)+e.slice(n)).indexOf("<a")}return e=e.replace(this.facebookEvent,"").trim(),this._description=e}}]),e}(),oe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).updateColourStatuses=function(e){var t=Object.assign({},a.state.calendars);t[e].status=!t[e].status,a.setState({calendars:t})},a.state={calendarIDs:{},today:n.getEventDate(Date.now()),start:new Date(a.props.settings.start||"6 October 2019"),finish:new Date(a.props.settings.finish||"8 December 2019"),weeks:8,calendars:{},events:{},locationReplacers:{},mapsLink:"",days:[],mounted:!1},a}return Object(u.a)(n,[{key:"interpretProps",value:function(e){return{calendarIDs:e.settings.calendarIDs,today:n.getEventDate(Date.now()),start:new Date(e.settings.start||"6 October 2019"),finish:new Date(e.settings.finish||"8 December 2019"),calendars:{},weeks:e.settings.weeks||8,events:{},locationReplacers:e.settings.locationReplacers,mapsLink:e.settings.mapsLink,days:e.settings.days}}},{key:"componentDidUpdate",value:function(){var e=this,t=Object.assign({},this.state.calendarIDs||{}),a={};if(Object.keys(this.props.settings.calendarIDs).length){Object.keys(t).length!==Object.keys(this.props.settings.calendarIDs).length&&(a=this.interpretProps(this.props),this.setState(a));for(var r={},i=0,s=Object.entries(this.props.settings.calendarIDs);i<s.length;i++){var o=Object(h.a)(s[i],2),c=o[0],l=o[1];t[c]||(r[c]=l)}Object.keys(r).length&&this.renderEvents(r,a).then((function(){var t=Date.now();a.start.getTime()<t&&a.finish.getTime()>t&&(window.location=n.setSection(window.location,e.state.today))})).catch(console.error)}}},{key:"renderFrame",value:function(){for(var e=this,t=[],a=0;a<this.state.weeks+1;a++){var i=new Date(this.state.start);i.setDate(i.getDate()+7*a),t.push(i)}return r.a.createElement("div",{className:this.props.styles.tableContainer},r.a.createElement("table",{className:this.props.styles.table},r.a.createElement("thead",null,r.a.createElement("tr",null,[this.props.settings.title].concat(Object(ne.a)(this.props.settings.days)).map((function(t,n){return r.a.createElement("th",{scope:"column",key:[t,n].join("."),className:n?"":e.props.styles.firstColumn},t)})))),r.a.createElement("tbody",null,t.map((function(t,a){for(var i=[],s=function(a){var s=new Date(new Date(t).setDate(t.getDate()+a)),o=n.getEventDate(s),c=!1;e.state.today===o&&(c=!0);var l=r.a.createElement("td",{id:o.toString(),key:o.toString(),className:c?e.props.styles.today:e.props.styles.cell},r.a.createElement("div",null,e.state.events[o]&&!Object.values(e.state.events[o]).every((function(t){return!e.state.calendars[t.calendarID].status}))?e.state.events[o].sort((function(e,t){return e.start.getHours()!==t.start.getHours()?e.start.getHours()-t.start.getHours():e.start.getMinutes()-t.start.getMinutes()})).map((function(t,a){return r.a.createElement("div",{className:e.props.styles.event,key:[o,a].join("."),style:e.state.calendars[t.calendarID].status?{}:{display:"none"}},r.a.createElement("div",{className:e.props.styles.eventHeader},r.a.createElement("h4",{className:[e.props.styles.eventName].join(" ")},r.a.createElement("span",{className:[e.props.styles.status,e.props.styles.toolContainer].join(" "),style:{color:t.color}},"\u2b24",r.a.createElement("span",{className:e.props.styles.tooltip},t.calendarName)),t.facebookEvent?r.a.createElement("a",{className:e.props.styles.eventTitle,href:t.facebookEvent},t.title):t.title)),r.a.createElement("div",null,r.a.createElement("h5",null,n.getDisplayTime(t.start)," ",t.map?r.a.createElement("a",{href:t.map,rel:"noopener noreferrer",target:"_blank"},t.location):t.location,"\n",t.description||null)))})):r.a.createElement("div",{className:e.props.styles.dateNumber},s.getDate())));i.push(l)},o=0;o<7;o++)s(o);return r.a.createElement("tr",{key:"week."+a},r.a.createElement("th",{scope:"row",className:e.props.styles.firstColumn},"Week "+a+"\n"+t.toDateString().slice(4,10)),i)})))))}},{key:"renderEvents",value:function(e,t){var a=this,r={},i=this.props.location.search.toString().slice(1)||"",s=i.split("&").map((function(e){return e.split("=")})).map((function(e){var t=Object(h.a)(e,2),n=t[0];return"false"===t[1]?[n,!1]:[n,!0]})).reduce((function(e,t){var n=Object(h.a)(t,2),a=n[0],r=n[1];return e[a]=r,e}),{});return Promise.all(Object.keys(e).map(function(){var i=Object(c.a)(o.a.mark((function i(c){var l,u,m,p,h,d;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_({baseURL:"https://clients6.google.com/calendar/v3/calendars/",url:c+"/events",params:{calendarId:c,singleEvents:!0,timeZone:"Europe/London",maxAttendees:1,maxResults:250,sanitizeHtml:!0,timeMin:new Date(t.start).toISOString(),timeMax:new Date(t.finish).toISOString(),key:"AIzaSyDahTZUtTKORUdsOY3H7BEeOXbwye0nBHI"}});case 3:l=i.sent,u=l.data,m=u.summary.match(x).join("-").toLowerCase(),p=m in s?s[m]:!("all"in s)||s.all,r[c]||(r[c]={id:c,name:u.summary,ref:m,description:u.description||"",color:e[c],status:p}),h=u.items.map((function(e){return new se(r[c],e,t)})),d=t.events,h.forEach((function(e){var t=n.getEventDate(e.start);d[t]||(d[t]=[]),d[t].push(e)})),a.setState({calendars:r,events:d}),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),console.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})));return function(e){return i.apply(this,arguments)}}()))}},{key:"renderKey",value:function(){var e=this,t=Object.entries(this.state.calendars).sort((function(e,t){return e[1].name<t[1].name?-1:e[1].name>t[1].name?1:0}));return r.a.createElement("div",{className:this.props.styles.key},t.map((function(t,n){var a=Object(h.a)(t,2),i=(a[0],a[1]);return r.a.createElement("div",{className:e.props.styles.key,key:["keyElement",n].join(".")},r.a.createElement("span",{className:[e.props.styles.status,e.props.styles.toolContainer].join(" "),onClick:function(){return e.updateColourStatuses(i.id)},style:{color:i.color}},i.status?"\u2b24":"\u2b58",i.description?r.a.createElement("span",{className:[e.props.styles.tooltip].join(" ")},i.description):null),r.a.createElement("h4",null,"\u200b "+i.name))})))}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.styles.container},this.renderKey(),this.renderFrame())}}],[{key:"setSection",value:function(e,t){return e.href.slice(0,-e.hash.length)+"#"+t.toString()}},{key:"getEventDate",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.valueOf()/1e3}},{key:"isDateEqual",value:function(e,t){return e.getFullYear()===t.getFullYear()&&(e.getMonth()!==t.getMonth()&&e.getDate()!==t.getDate())}},{key:"getDisplayTime",value:function(e){return e.getHours()+":"+"0".repeat(2-e.getMinutes().toString().length)+e.getMinutes()}}]),n}(r.a.Component),ce=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={styles:function(){try{return n(261)("./"+e.props.styles)}catch(t){return{}}}(),settings:{calendarIDs:{},mapsLink:"",locationReplacers:{},start:e.props.start,finish:e.props.finish,weeks:parseInt(e.props.weeks),title:e.props.title,days:[]}},e}return Object(u.a)(a,[{key:"getSettings",value:function(e){return e?_({baseURL:"https://oxfordunichess.github.io/oucc-backend/",url:e,params:{sessionID:this.props.sessionID}}).then((function(e){return e.data})).catch(console.error):Promise.reject()}},{key:"componentDidMount",value:function(){var e=this;this.getSettings(this.props.settings).then((function(t){return e.setState({settings:Object.assign(e.state.settings,t)})})).catch((function(){}))}},{key:"render",value:function(){return r.a.createElement(oe,Object.assign({},this.props,{settings:this.state.settings,styles:this.state.styles}))}}]),a}(r.a.Component),le=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{className:ee.a.contactForm,method:this.props.method,action:this.props.action},r.a.createElement("table",{className:ee.a.contactTable},r.a.createElement("tbody",null,this.props.fields.split("\\n").map((function(e){return e.split(",")})).map((function(e,t){var n=Object(h.a)(e,2),a=n[0],i=n[1];return r.a.createElement("tr",{key:[a,t].join(".")},r.a.createElement("th",null,i+":"),r.a.createElement("td",null,"message"!==a?r.a.createElement("input",{className:ee.a.input,type:"text",name:a,size:55}):r.a.createElement("textarea",{className:ee.a.textarea,name:"message",rows:6})))})))),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"Submit",value:this.props.submit}),this.props.reset?r.a.createElement("input",{type:"reset",value:this.props.reset}):null)}}]),n}(r.a.Component),ue=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).iframe=void 0,e.container=void 0,e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",(function(t){if("object"!==typeof t.data){var n=t.data.split(":"),a=e.iframe?e.iframe.current:null;if(a){switch(n[0]){case"scrollIntoView":a.scrollIntoView();break;case"setHeight":a.style.height=n[1]+"px",e.container&&e.container.current&&(e.container.current.style.height=Number(n[1])-48+"px");break;case"collapseErrorPage":a.clientHeight>window.innerHeight&&(a.style.height=window.innerHeight+"px");break;case"reloadPage":window.location.reload();break;case"loadScript":var r=n[1];n.length>3&&(r=n[1]+":"+n[2]);var i=document.createElement("script");i.src=r,i.type="text/javascript",document.body.appendChild(i);break;case"exitFullscreen":var s=window.document;s.exitFullscreen?s.exitFullscreen():s.mozCancelFullScreen?s.mozCancelFullScreen():s.webkitExitFullscreen?s.webkitExitFullscreen():s.msExitFullscreen&&s.msExitFullscreen()}if(t.origin.indexOf("jotform")>-1&&"contentWindow"in a&&"postMessage"in a.contentWindow){var o={docurl:encodeURIComponent(document.URL),referrer:encodeURIComponent(document.referrer)};a.contentWindow.postMessage(JSON.stringify({type:"urls",value:o}),"*")}}}}),!1)}},{key:"interpretStyle",value:function(e){return e.split("\n").map((function(e){return e.split(": ")})).reduce((function(e,t){var n=Object(h.a)(t,2),a=n[0],r=n[1];return e[a]=r,e}),{})}},{key:"render",value:function(){var e=this.interpretStyle(this.props.style||"");return r.a.createElement("div",{className:ee.a.jotform,ref:this.container,style:{height:"491px"}},r.a.createElement("iframe",{ref:this.iframe,title:this.props.title,onLoad:function(){return window.parent.scrollTo(0,0)},allowTransparency:!0,allowFullScreen:!0,allow:"geolocation; microphone; camera",src:this.props.src,frameBorder:0,style:Object.assign({minWidth:"100%",height:"539px",border:"none"},e)}))}}]),n}(r.a.Component),me=n(145),pe=n(140),he=(n(268),n(141)),de=n(52);function fe(e){var t=e.ratio.split(",").map((function(e){return parseInt(e)})),n=Object(a.useState)(0),i=Object(h.a)(n,2),s=i[0],o=i[1],c=Object(a.useState)(!1),l=Object(h.a)(c,2),u=l[0],m=l[1],p=Object(a.useState)(e.photos?e.photos.split(",").map((function(e,n){var a=e.split("/").pop(),r=a.split(".").pop(),i=a.slice(0,a.length-r.length-1).split("_"),s=Object(h.a)(i,2),o=s[0],c=s[1],l=c?c.split(".").map((function(e){return parseInt(e)})):t;return{index:n,source:W.a.resolve(k,e),src:W.a.resolve(k,e),srcSet:W.a.resolve(k,e),width:l[0],height:l[1],title:o}})):[]),d=Object(h.a)(p,2),f=d[0],v=d[1],b=Object(a.useCallback)((function(e,t){t.photo;var n=t.index;o(n),m(!0)}),[]);return f.length||e.src&&_({baseURL:"https://api.github.com/repos/oxfordunichess/oucc-backend/contents/",url:W.a.resolve("pages/",e.src),method:"get",maxRedirects:5}).then((function(e){return e.data})).then((function(e){return e.map((function(e,n){var a=e.path.split("/").pop(),r=a.split(".").pop();if(!L.test(r))return null;var i=a.slice(0,a.length-r.length-1).split("_"),s=Object(h.a)(i,2),o=s[0],c=s[1],l=t;return c&&(2===c.split(".").length?l=c.split(".").map((function(e){return parseInt(e)})):c&&2===c.split(",").length&&(l=c.split(",").map((function(e){return parseInt(e)})))),{index:n,src:W.a.resolve(k,e.path),srcSet:W.a.resolve(k,e.path),width:l[0],height:l[1],title:o}})).filter((function(e){return e}))})).then(v).catch((function(e){return console.error(e),[]})),r.a.createElement("div",{className:"grid"===e.type?ee.a.grid:ee.a.carousel},f.length?"grid"===e.type?r.a.createElement(he.a,{photos:f,onClick:!1!==e.enableLightbox?b:function(){},margin:e.margin||2,columns:3,targetRowHeight:e.height||200}):r.a.createElement(pe.Carousel,{onClickItem:!1!==e.enableLightbox?b:function(){},infiniteLoop:!0,useKeyboardArrows:!0,showStatus:!1,emulateTouch:!0,axis:e.axis||"horizontal",autoPlay:!1!==e.autoPlay,width:"100%",selectedItem:e.selectedItem||0,showThumbs:!1!==e.showThumbs,interval:e.interval||4e3,transitionTime:e.transitionTime||500,centerMode:e.centerMode||!1,dynamicHeight:e.dynamicHeight||!0},f.map((function(e,t){return e?r.a.createElement("div",{key:e.src+"."+t.toString()},r.a.createElement("img",{src:e.src,alt:e.alt})):null}))):null,!1!==e.enableLightbox?r.a.createElement(de.b,null,u?r.a.createElement(de.a,{onClose:function(){o(0),m(!1)}},r.a.createElement(de.c,{currentIndex:s,views:f.map((function(e){return Object(me.a)({},e,{caption:e.title})}))})):null):null)}var ve=n(333),be=new(n(115).ProcessNodeDefinitions)(r.a);function ge(e,t,n){return ve({isValidNode:function(e){return"script"!==e.type},processingInstructions:[{shouldProcessNode:function(e){return"grid"===e.name||"carousel"===e.name},processNode:function(e,t){return r.a.createElement(fe,Object.assign({},e.attribs,{type:e.name}))}},{shouldProcessNode:function(e){return"data-table"===e.name},processNode:function(e,n){return r.a.createElement(V,Object.assign({},e.attribs,{sessionID:t||void 0}))}},{shouldProcessNode:function(e){return"calendar"===e.name},processNode:function(a,i){return n&&n(),r.a.createElement(ce,Object.assign({},Object.assign({},e,a.attribs),{sessionID:t||void 0}))}},{shouldProcessNode:function(e){return"profile"===e.name},processNode:function(e,t){return r.a.createElement(B,e.attribs)}},{shouldProcessNode:function(e){return"form"===e.name},processNode:function(e,t){return r.a.createElement(le,e.attribs)}},{shouldProcessNode:function(e){return"jotform"===e.name},processNode:function(e,t){return r.a.createElement(ue,e.attribs)}},{shouldProcessNode:function(e){return"fen"===e.name},processNode:function(e,t){return r.a.createElement(te,e.attribs)}},{shouldProcessNode:function(e){return!0},processNode:be.processDefaultNode}]})}function ye(){var e=navigator.userAgent||navigator.vendor||"";return!!T[0].test(e)||!!T[1].test(e.substr(0,4))}var ke=n(132),_e=n.n(ke),we=(n(133),n(134),n(135)),Ee=n.n(we),je=n(25),Oe=n.n(je),xe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:Oe.a.footer},r.a.createElement("a",{className:Oe.a.link,href:"https://www.facebook.com/oxfordunichess/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:_e.a,alt:"Facebook Page",className:Oe.a.image})),r.a.createElement("a",{className:Oe.a.link,href:"https://www.facebook.com/groups/oxford.chess.club/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:_e.a,alt:"Facebook Group",className:Oe.a.image})),r.a.createElement("a",{className:Oe.a.link,href:"https://mailchi.mp/e4bab2111329/oxfordunichess",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:Ee.a,alt:"Mailing List",className:Oe.a.image})))}}]),n}(r.a.Component),Ce=n(10);function Ne(){return(Ne=Object(c.a)(o.a.mark((function e(){var t,n,a,r,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"main",n=i.length>1?i[1]:void 0,e.prev=2,a="pages/".concat(t+".md"),e.next=6,_({url:a,params:{sessionID:n}});case 6:return r=e.sent,e.abrupt("return",r.data);case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function De(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),i=n[0],s=n[1],o=Object(a.useReducer)((function(e,t){return null===t||void 0===t||t}),!1),c=Object(h.a)(o,2),l=c[0],u=c[1],m=Object(a.useContext)(b);Object(a.useEffect)((function(){e.page&&function(){return Ne.apply(this,arguments)}(e.page,m).then((function(e){if(e){var t=!1;e.toLowerCase().includes("<calendar")&&(t=!0),s(e),u(t)}}))}),[e.page,s,u]);var p=i.trim().split("\n---\n"),d=e.title?e.title+" | OUCC":"OUCC";document.title=d;var f=document.querySelector('meta[name="description"]');return e.description&&f.setAttribute("content",e.description),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.Helmet,null,r.a.createElement("title",null,d)),r.a.createElement("div",{className:[Ce.page,ye()?Ce.mobilePage:""].join(" ")},r.a.createElement("div",{className:[Ce.main,ye()?Ce.mobileMain:""].join(" ")},p.map((function(t,n){return r.a.createElement("div",{key:["section",n].join("."),className:[Ce.section,l?Ce.wide:"",ye()?Ce.mobileSection:""].join(" ")},r.a.createElement(R.a,{source:t.trim(),escapeHtml:!1,astPlugins:[ge(e,m,u)],renderers:{link:z},transformImageUri:function(e){return(e.startsWith(".")||e.startsWith("/"))&&(e=W.a.resolve(k+"data/",e)),e}}))})),r.a.createElement(xe,null))))}var Se=n(10),Te=n.n(Se),Le=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).context=void 0,e.state={mounted:!1,wide:!1},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){this.state.mounted||this.props.articles.length&&window.location.hash&&(window.location=window.location.toString().slice(0),this.setState({mounted:!0}))}},{key:"render",value:function(){var e=this,t=new Map,a=this.props.articles.map((function(a){if("string"!==typeof a)return null;if(!a)return console.error("Bad Markdown document:\n"+a),null;for(var i=a.split("\n"),s=i.shift().trim();s.startsWith("#");)s=s.slice(1);var o=(s=s.trim()).match(x).join("-").toLowerCase(),c=["## [".concat(s,"](").concat(n.setSection(window.location,o),")")].concat(Object(ne.a)(i)).join("\n");return t.set(o,{title:s+" | OUCC",image:(c.match(C)||[])[1],description:i.find((function(e){return e.trim()&&!e.trim().startsWith("#")}))}),r.a.createElement("div",{id:o,key:o,className:[Te.a.section,e.state.wide?Te.a.wide:"",ye()?Te.a.mobileSection:""].join(" ")},r.a.createElement(R.a,{source:c,escapeHtml:!1,astPlugins:[ge(e.props,e.context)],renderers:{link:z},transformImageUri:function(e){return(e.startsWith(".")||e.startsWith("/"))&&(e=W.a.resolve(k+"data/",e)),e}}),r.a.createElement("hr",null))})),i={};return window.location.hash&&t.get(window.location.hash.slice(1))&&(i=t.get(window.location.hash.slice(1))),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.Helmet,{defaultTitle:this.props.title?this.props.title+" | OUCC":"OUCC"},r.a.createElement("title",null,i.title),r.a.createElement("meta",{property:"og:type",content:"article"}),i.description?r.a.createElement("meta",{name:"description",content:i.description}):null,i.image?r.a.createElement("meta",{property:"og:image",content:i.image}):null),r.a.createElement("div",{className:[Te.a.page,ye()?Te.a.mobilePage:""].join(" ")},r.a.createElement("div",{className:[Te.a.main,ye()?Te.a.mobileMain:""].join(" ")},a,r.a.createElement(xe,null))))}}],[{key:"setSection",value:function(e,t){return e.href.slice(0,-e.hash.length)+"#"+t}}]),n}(r.a.Component);Le.contextType=b;var Ae=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.Helmet,null,r.a.createElement("title",null,this.props.title?this.props.title+" | OUCC":"OUCC")),r.a.createElement("div",{id:"main"},r.a.createElement("h1",null,"404: Not found"),r.a.createElement("h3",null,r.a.createElement(f.b,{to:"/"},"Return to home"))),r.a.createElement(xe,null))}}]),n}(r.a.Component),Ie=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={success:void 0},e}return Object(u.a)(n,[{key:"verify",value:function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("https://simple-lichess-keygen.glitch.me/gen?code="+t+"&dev=false");case 3:if(a=e.sent,(r=a.data).access_token){e.next=7;break}throw r;case 7:return e.next=9,_.get("https://simple-lichess-keygen.glitch.me/join?token="+r.access_token);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error(e.t0),"";case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a,r,i,s,c,l,u=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null===(t=this.props)||void 0===t||null===(n=t.match)||void 0===n?void 0:n.params.service,s=(null===(a=this.props)||void 0===a||null===(r=a.location)||void 0===r?void 0:r.search)||"?",c=s.slice(1).split("&").reduce((function(e,t){var n=t.split("="),a=Object(h.a)(n,2),r=a[0],i=a[1];return e[r]=i,e}),{}),l=c.code,c.state,console.log(l),e.next=6,this.verify(l,i).then((function(){return u.setState({success:!0})})).catch((function(){return u.setState({success:!1})}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return"undefined"===typeof this.state.success?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(F.Helmet,null,r.a.createElement("title",null,"Authentication | OUCC")),r.a.createElement("div",{className:[Te.a.page,ye()?Te.a.mobilePage:""].join(" ")},r.a.createElement("div",{className:[Te.a.main,ye()?Te.a.mobileMain:""].join(" ")},r.a.createElement("div",{className:Te.a.section},r.a.createElement("h1",null,this.state.success?"Successfully Authorised":"Failed to authorise"),r.a.createElement("h3",null,r.a.createElement("a",{href:"https://lichess.org/team/oxford-university-chess-club",target:"_blank",rel:"noopener noreferrer"},"View team on Lichess.org"))),r.a.createElement(xe,null))))}}]),n}(r.a.Component);function Ue(e){return _.get("http://simple-lichess-keygen.glitch.me/send?email="+e)}function Me(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(""),l=Object(h.a)(s,2),u=l[0],m=l[1];function p(){return(p=Object(c.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,a=Array.from(n.elements).find((function(e){return"name"in e&&"email"===e.name})),(r=a.value.trim()).includes("@")&&r.endsWith("ox.ac.uk")){e.next=9;break}return n.reset(),i(""),m("Invalid Oxford University email address"),e.abrupt("return");case 9:return i("Email sent!"),m(""),e.next=13,Ue(a.value);case 13:n.reset();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.Helmet,null,r.a.createElement("title",null,"Authentication | OUCC")),r.a.createElement("div",{className:[Te.a.page,ye()?Te.a.mobilePage:""].join(" ")},r.a.createElement("div",{className:[Te.a.main,ye()?Te.a.mobileMain:""].join(" ")},r.a.createElement("div",{className:Te.a.section},r.a.createElement("h1",null,"Lichess Authentication"),r.a.createElement("h4",null,"Input a valid University of Oxford email address to be added to the ",r.a.createElement("a",{href:"https://lichess.org/team/oxford-university-chess-club"},"Lichess team"),"."),r.a.createElement("form",{className:ee.a.contactForm,onSubmit:function(e){return p.apply(this,arguments)},style:{paddingTop:"20px"}},r.a.createElement("table",{className:ee.a.contactTable},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Email: "),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"email",size:55})),r.a.createElement("td",null,r.a.createElement("input",{type:"submit",name:"Submit",value:"Send"})))))),n||null,u||null),r.a.createElement("div",{className:Te.a.section,style:{padding:"10px"}},"We can only contact subscribed members of our mailing list. If you enter your email above and you are not a subscribed member, you will instead receive an email asking you to subscribe. Return to this page once you have done so. Alternatively, subscribe here: ",r.a.createElement("a",{href:"https://mailchi.mp/e4bab2111329/oxfordunichess"},"https://mailchi.mp/e4bab2111329/oxfordunichess")),r.a.createElement(xe,null))))}for(var Pe=n(51),Re=n(144),Fe=0,He=Object.entries(Pe);Fe<He.length;Fe++){var We=Object(h.a)(He[Fe],2),ze=We[0];"redirect"in We[1]&&delete Pe[ze]}var qe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={index:Pe,articles:[],sessionID:Math.random().toString(16).slice(2)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;_.defaults.params={},_.defaults.params.sessionID=this.state.sessionID,Promise.all([n.getIndex(this.state.sessionID).then((function(t){return t?e.setState({index:t}):null})),n.fetchArticles(this.state.sessionID).then((function(t){return e.setState({articles:t})}))])}},{key:"render",value:function(){var e=this,t=Object.entries(this.state.index).map((function(t){var n=Object(h.a)(t,2),a=n[0],i=n[1];return a.startsWith("_")||"object"!==typeof i?null:r.a.createElement(d.b,{exact:!0,path:"/".concat(i.private?"private/":"").concat(a),key:a+"_route",render:function(t){if(i.open&&window.open(i.open),i.redirect)return r.a.createElement(d.a,{to:i.redirect});var n=a;return i.file&&(n=i.file),r.a.createElement(b.Provider,{value:e.state.sessionID},r.a.createElement(De,Object.assign({},t,{page:n,title:i.title})))}})})),n=new Map;return Object.entries(this.state.index).forEach((function(t){var a=Object(h.a)(t,2),i=a[0],s=a[1];if(i.startsWith("_")||"object"!==typeof s)return null;n.set(i,r.a.createElement(d.b,{exact:!0,path:"/".concat(s.private?"private/":"").concat(i),key:i+"_route",render:function(t){if(s.open&&window.open(s.open),s.redirect)return r.a.createElement(d.a,{to:s.redirect});var n=i;return s.file&&(n=s.file),r.a.createElement(b.Provider,{value:e.state.sessionID},r.a.createElement(De,Object.assign({},t,{page:n,title:s.title})))}}))})),r.a.createElement(b.Provider,{value:this.state.sessionID},r.a.createElement(f.a,{basename:"/~chess"}," ",r.a.createElement(d.b,{render:function(n){var a=n.location;return r.a.createElement(r.a.Fragment,null,function(){switch(a.pathname){case"/articleData.json":case"/version":return null;default:return ye()?r.a.createElement(j,null):r.a.createElement(M,{articles:e.state.articles})}}(),r.a.createElement(d.d,{location:a},t,r.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(De,Object.assign({},e,{page:"main"}))}}),r.a.createElement(d.b,{exact:!0,path:"/articleData.json",render:function(){return JSON.stringify(e.state.articles,null,4)}}),r.a.createElement(d.b,{exact:!0,path:"version",render:function(){return Re.version}}),r.a.createElement(d.b,{exact:!0,path:"/curr_news",render:function(t){return r.a.createElement(Le,Object.assign({},t,{title:"Current News",articles:e.state.articles}))}}),r.a.createElement(d.b,{exact:!0,path:"/auth",render:function(){return r.a.createElement(Me,null)}}),r.a.createElement(d.b,{exact:!0,path:"/callback/:service/",render:function(e){return r.a.createElement(Ie,e)}}),r.a.createElement(d.b,{path:"*",component:Ae,status:404})))}})))}}],[{key:"getArticle",value:function(e,t){return _({url:"news/"+e,params:{sessionID:t},method:"GET",maxRedirects:5}).then((function(e){return e.data})).catch((function(e){return e&&console.error(e),""}))}},{key:"getArticleList",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({baseURL:"https://api.github.com/repos/oxfordunichess/oucc-backend/",url:"contents/news/",params:{sessionID:t},method:"get",maxRedirects:5}).then((function(e){return e.data})).catch((function(e){return console.error(e),[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIndex",value:function(e){return _({url:"index.json",params:{sessionID:e}}).then((function(e){return e.data})).catch((function(e){console.error(e)}))}},{key:"fetchArticles",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,r,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getArticleList(t).catch((function(e){return console.error(e),[]}));case 2:return a=e.sent,r=(a||[]).map((function(e){return e.name})),i=r.filter((function(e){return e.endsWith(".md")&&N.test(e)})),s=i.sort((function(e,t){var n=new Date(e.split("_")[0]),a=new Date(t.split("_")[0]);return n.getTime()!==n.getTime()?1:a.getTime()!==a.getTime()?-1:a.getTime()-n.getTime()})),c=new Array(s.length),s.forEach((function(e,a){return c[a]=n.getArticle(e,t).catch(console.error)})),e.next=10,Promise.all(c);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(i.render)(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},4:function(e,t,n){e.exports={header:"header_header__2JDtH",bannerContainer:"header_bannerContainer__zubWY",banner:"header_banner__2Li7q",nav:"header_nav__5Zo-d",section:"header_section__1mUJG",left:"header_left__2fvQE",right:"header_right__3CMex",spacer:"header_spacer__2BTqm",dropParent:"header_dropParent__28y82",dropChild:"header_dropChild__3XMUY","expand-down":"header_expand-down__1tVgs",selected:"header_selected__2OTKR",oucc_logo:"header_oucc_logo__ntMUg",newsFeed:"header_newsFeed__35rvd",intro:"header_intro__1vMZ4",runner:"header_runner__2doT9",mobileHeader:"header_mobileHeader__l_Ral",mobileContainer:"header_mobileContainer__-3p_-",mobileBanner:"header_mobileBanner__296K-",mobileTextContainer:"header_mobileTextContainer__jayG1",mobileMenu:"header_mobileMenu__3PRnh",mobileLinks:"header_mobileLinks__2NdCj",mobileLinksShown:"header_mobileLinksShown__1hTeH","expand-up":"header_expand-up__1WP4X",mobileLinksHidden:"header_mobileLinksHidden__23LiN","contract-down":"header_contract-down__2ZWS4",mobileThumbContainer:"header_mobileThumbContainer__18KQy",mobileSection:"header_mobileSection__yzF8t"}},51:function(e){e.exports=JSON.parse('{"home":{"redirect":"/"},"index.html":{"redirect":"/"},"news":{"redirect":"/curr_news"},"about":{"redirect":"/contact"},"join":{"redirect":"/membership"},"play":{"redirect":"/club"},"1stTeam":{"title":"First Team","parent":"events","description":"If you are interested in playing please contact Filip Mihov at filip.mihov@balliol.ox.ac.uk","maintainer":"FM"},"2ndTeam":{"title":"Second Team","parent":"events","description":"If you are interested in playing please contact Kevin Henbest at kevin.henbest@chem.ox.ac.uk","maintainer":"KH"},"3rdTeam":{"title":"Third Team","parent":"events","description":"If you are interested in playing please contact Boris Gusev at boris.gusev@st-hildas.ox.ac.uk.","maintainer":"BG"},"archive":{"title":"Archive","parent":"news","description":"Oxford University Chess Club news archive","maintainer":"AL"},"teaching":{"title":"Teaching","parent":"events","description":"We currently run two squads. Both are at Christ Church, from 5:30pm-6:30pm, held in different rooms. They are as follows:","maintainer":"VV"},"contact":{"title":"Contact","parent":"about","description":"Contact the OUCC","maintainer":"AL"},"cuppers":{"title":"Cuppers","parent":"play","description":"2020 Cuppers League","maintainer":"BG"},"club":{"title":"Club Nights","parent":"events","description":"Weekly clubnights at the Oxford University Chess Club are held on a Wednesday","maintainer":"GD"},"committee":{"title":"Committee","parent":"join","description":"Your points of contact if you have any questions about the club or want to get involved in helping out in Oxford chess! You can also message the Facebook page or post in the group if you have any questions.","maintainer":"AR"},"historical_committee":{"title":"Historical Committee","parent":"join","description":"A number of famous people have held officership within OUCC. You can search the names of our past officers below:","maintainer":"AR"},"outreach":{"title":"Outreach","parent":"about","description":"Oxford University Chess Club is working with [hess in Schools to offer local volunteer teaching.","maintainer":"DS"},"old_news":{"title":"Old News","parent":"news","description":"OUCC will host a celebration for the 150th anniversary. All alumni of the OUCC are invited to come. This celebration will likely be hosted in the 1st or 2nd weekend of May 2019. To see everyone who has been invited so far click here. If you know the contact details of someone not contacted yet please let us know immediately.","maintainer":"AL"},"events":{"title":"Events","parent":"events","events":"Simultaneous Exhibitions In the Trinity Term of 2019, we hosted a Simultaneous Exhibition against GM Hou Yifan, the current Women\'s World Number 1 chess player. Yifan is the youngest ever to win the Women\'s World Chess Championship (16), which she achieved 4 times, in 2010, 2011, 2013, and 2016, and the youngest ever to achieve the title of Women\'s Grandmaster and FIDE-rated 2659. Yifan is a Rhodes Scholar, and at the time was reading an MSc in Education at St Hilda\'s College for the 2018-2019 academic year. See the facebook event and our photo album.","maintainer":"AL"},"maillists":{"title":"Mailing Lists","parent":"about","description":"We regularly send out emails about events and other news running in Oxford. If you would like to receive these emails, please send an email to subscribe.","maintainer":"AL"},"main":{"title":"","parent":"main","description":"Oxford University Chess Club (OUCC) was founded in 1869 and is the oldest university chess club in the United Kingdom. Our aim is to promote chess in the university, and to play competitively in the local leagues as well as against other universities. The club boasts an active membership of more than 50 ranging from purely social players meeting over a pint to International Grandmasters representing us at the annual match against the University of Cambridge.","maintainer":"AR | AL"},"membership":{"title":"Membership","parent":"join","description":"We are an open, friendly organisation and welcome all non-members to come along to our events free-of-charge on a trial basis.","maintainer":"AL"},"payments":{"title":"Payments","parent":"about","description":"If you have any questions or wish to contact the club then please complete the form below and we will get back to you as soon as possible.","maintainer":"AL"},"members":{"title":"Membership List","file":"memberlist","parent":"about","description":"Membership list for the Oxford University Chess Club","private":true,"maintainer":"AL"},"socials":{"title":"Socials","parent":"events","description":"OUCC Socials","maintainer":"AW"},"sponsors":{"title":"Sponsors","parent":"sponsors","description":"The Oxford University Chess Club is proudly sponsored by the following groups and organisations...","maintainer":"AL"},"termcard":{"file":"termcard_ht21","title":"Termcard","parent":"events","description":"Hilary Termcard for the Oxford University Chess Club","maintainer":"AR"},"termcard/ht21":{"file":"termcard_ht21","title":"Termcard","parent":"events","description":"Hilary Termcard for the Oxford University Chess Club","maintainer":"AL"},"termcard/ht20":{"file":"termcard_ht20","title":"Termcard","parent":"events","description":"Hilary Termcard for the Oxford University Chess Club","maintainer":"AL"},"termcard/mt20":{"file":"termcard_mt20","title":"Termcard","parent":"events","description":"Michaelmas Termcard for the Oxford University Chess Club","maintainer":"AL"},"termcard/mt19":{"file":"termcard_michaelmas","title":"Termcard","parent":"events","description":"Michaelmas Termcard for the Oxford University Chess Club","maintainer":"AL"},"tournaments":{"title":"External Tournaments","parent":"events","description":"A list of constantly updated playing opportunities of external tournaments.","maintainer":"KH"},"varsity":{"title":"Varsity","parent":"events","description":"The annual Varsity match takes place on the 7th week of Hilary Term against the Cambridge University Chess Club.","maintainer":"DA"},"venues":{"title":"Venues","parent":"about","description":"The list of playing rooms for the Oxford University Chess Club","maintainer":"Everyone"}}')}},[[146,1,2]]]);
//# sourceMappingURL=main.8b82653a.chunk.js.map