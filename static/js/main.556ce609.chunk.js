(this["webpackJsonpoucc-react"]=this["webpackJsonpoucc-react"]||[]).push([[0],{1:function(e,t,n){e.exports={header:"header_header__2JDtH",bannerContainer:"header_bannerContainer__zubWY",banner:"header_banner__2Li7q",nav:"header_nav__5Zo-d",section:"header_section__1mUJG",left:"header_left__2fvQE",right:"header_right__3CMex",spacer:"header_spacer__2BTqm",dropParent:"header_dropParent__28y82",dropChild:"header_dropChild__3XMUY","expand-down":"header_expand-down__1tVgs",selected:"header_selected__2OTKR",oucc_logo:"header_oucc_logo__ntMUg",newsFeed:"header_newsFeed__35rvd",intro:"header_intro__1vMZ4",runner:"header_runner__2doT9",mobileHeader:"header_mobileHeader__l_Ral",mobileContainer:"header_mobileContainer__-3p_-",mobileBanner:"header_mobileBanner__296K-",mobileTextContainer:"header_mobileTextContainer__jayG1",mobileMenu:"header_mobileMenu__3PRnh",mobileLinks:"header_mobileLinks__2NdCj",mobileLinksShown:"header_mobileLinksShown__1hTeH","expand-up":"header_expand-up__1WP4X",mobileLinksHidden:"header_mobileLinksHidden__23LiN","contract-down":"header_contract-down__2ZWS4",mobileThumbContainer:"header_mobileThumbContainer__18KQy",mobileSection:"header_mobileSection__yzF8t"}},100:function(e){e.exports=JSON.parse('{"home":{"redirect":"/"},"index.html":{"redirect":"/"},"termcard/ht20":{"redirect":"/termcard"},"news":{"redirect":"/curr_news"},"about":{"redirect":"/contact"},"join":{"redirect":"/membership"},"play":{"redirect":"/club"},"1stTeam":{"title":"First Team","parent":"events","description":"If you are interested in playing please contact Filip Mihov at filip.mihov@balliol.ox.ac.uk","maintainer":"FM"},"2ndTeam":{"title":"Second Team","parent":"events","description":"If you are interested in playing please contact Kevin Henbest at kevin.henbest@chem.ox.ac.uk","maintainer":"KH"},"3rdTeam":{"title":"Third Team","parent":"events","description":"If you are interested in playing please contact Boris Gusev at boris.gusev@st-hildas.ox.ac.uk.","maintainer":"BG"},"archive":{"title":"Archive","parent":"news","description":"Oxford University Chess Club news archive","maintainer":"AL"},"teaching":{"title":"Teaching","parent":"events","description":"We currently run two squads. Both are at Christ Church, from 5:30pm-6:30pm, held in different rooms. They are as follows:","maintainer":"VV"},"contact":{"title":"Contact","parent":"about","description":"Contact the OUCC","maintainer":"AL"},"cuppers":{"title":"Cuppers","parent":"play","description":"2020 Cuppers League","maintainer":"BG"},"club":{"title":"Club Nights","parent":"events","description":"Weekly clubnights at the Oxford University Chess Club are held on a Wednesday","maintainer":"GD"},"committee":{"title":"Committee","parent":"join","description":"Your points of contact if you have any questions about the club or want to get involved in helping out in Oxford chess! You can also message the Facebook page or post in the group if you have any questions.","maintainer":"AR"},"historical_committee":{"title":"Historical Committee","parent":"join","description":"A number of famous people have held officership within OUCC. You can search the names of our past officers below:","maintainer":"AR"},"outreach":{"title":"Outreach","parent":"about","description":"Oxford University Chess Club is working with [hess in Schools to offer local volunteer teaching.","maintainer":"DS"},"old_news":{"title":"Old News","parent":"news","description":"OUCC will host a celebration for the 150th anniversary. All alumni of the OUCC are invited to come. This celebration will likely be hosted in the 1st or 2nd weekend of May 2019. To see everyone who has been invited so far click here. If you know the contact details of someone not contacted yet please let us know immediately.","maintainer":"AL"},"events":{"title":"Events","parent":"events","events":"Simultaneous Exhibitions In the Trinity Term of 2019, we hosted a Simultaneous Exhibition against GM Hou Yifan, the current Women\'s World Number 1 chess player. Yifan is the youngest ever to win the Women\'s World Chess Championship (16), which she achieved 4 times, in 2010, 2011, 2013, and 2016, and the youngest ever to achieve the title of Women\'s Grandmaster and FIDE-rated 2659. Yifan is a Rhodes Scholar, and at the time was reading an MSc in Education at St Hilda\'s College for the 2018-2019 academic year. See the facebook event and our photo album.","maintainer":"AL"},"maillists":{"title":"Mailing Lists","parent":"about","description":"We regularly send out emails about events and other news running in Oxford. If you would like to receive these emails, please send an email to subscribe.","maintainer":"AL"},"main":{"title":"","parent":"main","description":"Oxford University Chess Club (OUCC) was founded in 1869 and is the oldest university chess club in the United Kingdom. Our aim is to promote chess in the university, and to play competitively in the local leagues as well as against other universities. The club boasts an active membership of more than 50 ranging from purely social players meeting over a pint to International Grandmasters representing us at the annual match against the University of Cambridge.","maintainer":"AR | AL"},"membership":{"title":"Membership","parent":"join","description":"We are an open, friendly organisation and welcome all non-members to come along to our events free-of-charge on a trial basis.","maintainer":"AL"},"payments":{"title":"Payments","parent":"about","description":"If you have any questions or wish to contact the club then please complete the form below and we will get back to you as soon as possible.","maintainer":"AL"},"members":{"title":"Membership List","file":"memberlist","parent":"about","description":"Membership list for the Oxford University Chess Club","private":true,"maintainer":"AL"},"socials":{"title":"Socials","parent":"events","description":"OUCC Socials","maintainer":"AW"},"sponsors":{"title":"Sponsors","parent":"sponsors","description":"The Oxford University Chess Club is proudly sponsored by the following groups and organisations...","maintainer":"AL"},"termcard":{"file":"termcard_hilary","title":"Termcard","parent":"events","description":"Hilary Termcard for the Oxford University Chess Club","maintainer":"AL"},"termcard/mt19":{"file":"termcard_michaelmas","title":"Termcard","parent":"events","description":"Michaelmas Termcard for the Oxford University Chess Club","maintainer":"AL"},"tournaments":{"title":"External Tournaments","parent":"events","description":"A list of constantly updated playing opportunities of external tournaments.","maintainer":"KH"},"varsity":{"title":"Varsity","parent":"events","description":"The annual Varsity match takes place on the 7th week of Hilary Term against the Cambridge University Chess Club.","maintainer":"DA"},"venues":{"title":"Venues","parent":"about","description":"The list of playing rooms for the Oxford University Chess Club","maintainer":"Everyone"}}')},101:function(e){e.exports=JSON.parse('{"name":"oucc-react","version":"1.1.18","private":false,"homepage_gh":"https://oxfordunichess.github.io/oucc-frontend/","homepage":"http://users.ox.ac.uk/~chess/","source":"https://github.com/oxfordunichess/oucc-frontend","scripts":{"start":"react-scripts start","seo":"react-snapshot","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"yarn build --homepage gh","deploy":"gh-pages -d build","sync-build":"tsc scripts/*.ts --jsx react","sync":"node scripts/cacheIndex"},"dependencies":{"axios":"^0.19.0","he":"^1.2.0","html-react-parser":"^0.10.0","html-to-react":"^1.4.2","node-sass":"^4.12.0","papaparse":"^5.1.0","react":"^16.11.0","react-dom":"^16.11.0","react-helmet":"^5.2.1","react-markdown":"^4.2.2","react-router-dom":"^5.1.2","react-scripts":"git+ssh://git@github.com/theLAZYmd/react-scripts.git","react-snapshot":"^1.3.0","url":"^0.11.0","webpack":"^4.41.2"},"license":"MIT","eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/babel__core":"^7.1.3","@types/he":"^1.1.0","@types/papaparse":"^5.0.1","@types/react":"^16.9.11","@types/react-helmet":"^5.0.14","@types/react-router-dom":"^5.1.2","array.prototype.flat":"^1.2.2","create-react-app":"^3.2.0","eslint-plugin-react":"^7.16.0","typescript":"^3.7.2","typescript-plugin-css-modules":"^2.1.0"}}')},102:function(e,t,n){e.exports=n(265)},107:function(e,t,n){},109:function(e,t,n){},17:function(e,t,n){e.exports={page:"page_page__g1c2x",main:"page_main__jGfys",section:"page_section__1fg7U",wide:"page_wide__PCvHR",mobilePage:"page_mobilePage__AiV44",mobileMain:"page_mobileMain__3xbCq",mobileSection:"page_mobileSection__-Ut7s"}},216:function(e,t,n){var a={"./calendar.module.css":217,"./components.module.css":29,"./header.module.css":1,"./page.module.css":17};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=216},217:function(e,t,n){e.exports={container:"calendar_container__3jc5j",tableContainer:"calendar_tableContainer__1d5am",table:"calendar_table__1STq8",key:"calendar_key__10QPp",status:"calendar_status__328_7",event:"calendar_event__Fpsnm",eventHeader:"calendar_eventHeader__1LM4e",eventName:"calendar_eventName__11Rtc",eventTitle:"calendar_eventTitle__253CO",noEvent:"calendar_noEvent__21QAe",firstColumn:"calendar_firstColumn__2TydK",cell:"calendar_cell__b_gO3",today:"calendar_today__36RHA",toolContainer:"calendar_toolContainer__3iaLn",tooltip:"calendar_tooltip__76C0K"}},256:function(e,t){},265:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(95),s=(n(107),n(9)),o=n.n(s),c=n(7),l=n(3),u=n(2),h=n(5),p=n(4),m=n(6),d=(n(109),n(20)),f=n(10),v=n(34),b=Object(a.createContext)(""),g=n(58),y=n.n(g),_="https://oxfordunichess.github.io/oucc-backend/";y.a.defaults.baseURL=_;var k=y.a,w=n(1),E=n.n(w),j=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).context=void 0,n.state={subnav:"",expanded:!1,navigation:{}},n.navToggle=function(e){n.state.subnav===e?n.setState({subnav:""}):n.setState({subnav:e})},n.toggleThumb=function(){n.setState({subnav:"members",expanded:!n.state.expanded})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getNavigationData",value:function(){return k({url:"navigation.json",params:{sessionID:this.context}}).then((function(e){return e.data})).catch(console.error)}},{key:"componentDidMount",value:function(){var e=this;this.getNavigationData().then((function(t){e.setState({navigation:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[E.a.header,E.a.mobileHeader].join(" ")},r.a.createElement("div",{className:[E.a.bannerContainer,E.a.mobileContainer].join(" ")},r.a.createElement("div",{className:[E.a.banner,E.a.mobileBanner].join(" ")},r.a.createElement("div",{className:E.a.mobileTextContainer},"Oxford University Chess Club")))),r.a.createElement("div",{className:E.a.mobileMenu},this.state.expanded?r.a.createElement("div",{className:[E.a.mobileLinks,this.state.expanded?E.a.mobileLinksShown:E.a.mobileLinksHidden].join(" ")},Object.entries(this.state.navigation).map((function(t,n){var a=Object(c.a)(t,2),i=a[0],s=Object(v.a)(a[1]),o=(s[0],s[1]),l=s.slice(2);return r.a.createElement("div",{key:[o,n].join("."),className:E.a.mobileSection},l.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:E.a.dropParent,onClick:function(){return e.navToggle(i)}},l.length?e.state.subnav===i?"\u25bd":"\u25b7":""," ",o),e.state.subnav===i?l.map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.createElement(f.b,{key:n.slice(1),className:[E.a.dropParent,E.a.dropChild].join(" "),to:n},a)})):null):r.a.createElement(f.b,{className:E.a.dropParent,to:"/"+i},o))})),r.a.createElement("div",{className:E.a.mobileSection},r.a.createElement(f.b,{className:E.a.dropParent,to:"/"},"Home"))):null,r.a.createElement("div",{className:E.a.mobileThumbContainer,onClick:this.toggleThumb},r.a.createElement("img",{src:"/oucc-frontend/images/oucclogo.jpg",alt:""}))))}}]),t}(r.a.Component);j.contextType=b;var O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).context=void 0,n._nav=void 0,n.state={subnav:"members",navigation:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"navToggle",value:function(e){this.state.subnav===e?this.navLeave():this.navEnter(e)}},{key:"navEnter",value:function(e){this.setState({subnav:e})}},{key:"navLeave",value:function(){this.setState({subnav:""})}},{key:"renderNav",value:function(e){var t=this,n=window.location.pathname;this._nav||(this._nav={});var a=r.a.createElement("div",{className:E.a.nav+" "+E.a[e]},"left"!==e?null:r.a.createElement("div",{className:E.a.section},r.a.createElement("div",{className:E.a.spacer})),Object.entries(this.state.navigation).map((function(a,i){var s=Object(c.a)(a,2),o=s[0],l=Object(v.a)(s[1]),u=l[0],h=l[1],p=l.slice(2);return u!==e?null:r.a.createElement("div",{key:[h,i].join("."),className:E.a.section,onClick:function(){return t.navToggle(o)},onMouseEnter:function(){return t.navEnter(o)},onMouseLeave:function(){return t.navLeave()}},r.a.createElement(f.b,{className:[E.a.dropParent,n.includes(o)||p.length&&p.some((function(e){return e[0]===n}))?E.a.selected:""].join(" "),key:o,to:"/"+o},h),p.length&&t.state.subnav===o?p.map((function(e){var t=Object(c.a)(e,2),a=t[0],i=t[1];return r.a.createElement(f.b,{key:a.slice(1),to:a,className:[E.a.dropParent,E.a.dropChild,n.includes(a)?E.a.selected:""].join(" ")},i)})):null)})),"right"!==e?null:r.a.createElement("div",{className:E.a.section},r.a.createElement("div",{className:E.a.spacer})));return Object.keys(this.state.navigation).length?this._nav[e]=a:a}},{key:"getNavigationData",value:function(){return k({url:"navigation.json",params:{sessionID:this.context}}).then((function(e){return e.data})).catch(console.error)}},{key:"componentDidMount",value:function(){var e=this;this.getNavigationData().then((function(t){t&&e.setState({navigation:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:E.a.bannerContainer},r.a.createElement("div",{className:E.a.banner},this.renderNav("left"),r.a.createElement(f.b,{className:E.a.oucc_logo,to:"/",style:{backgroundImage:"url(".concat("/oucc-frontend","/images/oucclogo.jpg"),overflowY:"visible"}}),this.renderNav("right")))}}]),t}(r.a.Component);O.contextType=b;var x=/\w+/g,C=/<img\s+.*?src=["'](.*).*?">/,N=/^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}_/,D=/^(https?:)?\/\//,S=/\\n+/g,T=[/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i],L=n(1),A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={navigation:{},feedPosition:0,width:0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getNewsFeed",value:function(e){var n=this,a=this.state.width,i=window.innerWidth;return this.props.articles.map((function(s,o){var l=e?Object.entries(n.refs).filter((function(e){return Object(c.a)(e,1)[0].startsWith("feed")})).map((function(e){var t=Object(c.a)(e,2);t[0];return t[1].offsetLeft-n.state.width})):[],u=e?(e+l[o]-i)%a+i-l[o]:0;if("string"!==typeof s)return null;if(!s||"function"!==typeof s.split)return console.error("Bad Markdown document:\n",s),null;for(var h=s.split("\n").shift().trim();h.startsWith("#");)h=h.slice(1);var p=h.match(x).join("-").toLowerCase();return r.a.createElement("div",{key:p+".container",style:e?{transform:"translate3d(".concat(u,"px, 0, 0)")}:{}},r.a.createElement("a",{href:t.setSection(window.location,p),ref:"feed"+o,key:p},h)," \u2022 ")}))}},{key:"componentDidUpdate",value:function(){this.state.width||this.refs.dummy&&this.refs.dummy.scrollWidth&&this.setState({width:this.refs.dummy.scrollWidth})}},{key:"componentDidMount",value:function(){var e=this;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:setInterval((function(){var t=e.state.feedPosition;e.setState({feedPosition:t+.5})}),1e3/60);case 1:case"end":return t.stop()}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:L.newsFeed},r.a.createElement("div",{className:L.intro},"Latest News:"),r.a.createElement("div",null),r.a.createElement("div",{className:L.runner},r.a.createElement("div",{ref:"runner"},this.getNewsFeed(-this.state.feedPosition)),r.a.createElement("div",{ref:"dummy",style:{visibility:"hidden"}},this.getNewsFeed())))}}],[{key:"setSection",value:function(e,t){return"/oucc-frontend/curr_news#"+t}}]),t}(r.a.Component),I=n(1),U=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:I.header},r.a.createElement(O,null),r.a.createElement(A,{articles:this.props.articles}))}}]),t}(r.a.Component),P=n(36),M=n.n(P),R=n(25),H=n(19),W=n.n(H);function F(e){return D.test(e.href)?r.a.createElement("a",{href:e.href},e.children):e.href.startsWith("../")?r.a.createElement("a",{href:W.a.resolve(_+"pages/",e.href)},e.children):e.href.startsWith("./")?r.a.createElement("a",{href:W.a.resolve(_,e.href)},e.children):r.a.createElement(f.b,{to:e.href},e.children)}var z=n(29),q=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=D.test(this.props.thumbnail)?this.props.thumbnail:W.a.resolve(_,"images/logos/"+this.props.thumbnail);return r.a.createElement("div",{className:z.profile},r.a.createElement("div",{className:z.rightPane},r.a.createElement("img",{className:z.thumbnail,src:e,alt:this.props.thumbnail})),r.a.createElement("div",{className:z.leftPane},r.a.createElement("div",null,r.a.createElement("h2",null,this.props.name)),r.a.createElement("div",null,r.a.createElement("h3",null,this.props.subtitle),this.props.links.split("\\n").map((function(e,t){var n=e.split(","),a=Object(c.a)(n,2),i=a[0],s=a[1];return s?r.a.createElement("h3",{key:["text",t].join(".")},r.a.createElement("a",{key:[i.slice(0,5),t].join("."),href:s,target:"_blank",rel:"noopener noreferrer"},i)):r.a.createElement("h3",{key:["text",t].join(".")},i)})))),r.a.createElement("div",{className:z.centerPane},r.a.createElement("div",{className:z.text},this.props.description.replace(S,"\n\n"))))}}]),t}(r.a.Component),B=n(98),K=n.n(B);function Y(e){if("string"!==typeof e)throw new TypeError;return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()}var G=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={table:null,date:null},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.props.src){n.next=2;break}return n.abrupt("return");case 2:return n.abrupt("return",Promise.all([t.getData("data/"+this.props.src,this.props.sessionID).then((function(t){e.props.src.endsWith(".csv")&&(t=K.a.parse(t,{header:!0,dynamicTyping:!0,skipEmptyLines:"greedy"}).data.map((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];a||delete e[a]}return e})));return t})).then((function(e){return t.generateTablefromJSON(e)})).then((function(t){e.setState({table:t})})).catch(console.error),t.getDate("data/"+this.props.src).then((function(e){return e[0]?new Date(e.shift().commit.committer.date):new Date})).then((function(t){e.setState({date:t})})).catch(console.error)]));case 3:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{textAlign:"right"}},this.state.date?"Last updated: "+this.state.date.toString().slice(0,24):""),this.state.table)}}],[{key:"getData",value:function(e,t){return k({url:e,params:{sessionID:t}}).then((function(e){return e.data})).catch((function(e){return console.error(e),[null]}))}},{key:"generateTablefromJSON",value:function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object.keys(e[0]),n.abrupt("return",r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:[e,t].join("."),scope:"column"},Y(e))})))),r.a.createElement("tbody",null,e.map((function(e){var n=Object.values(e)[0]?Object.values(e)[0].toString().toLowerCase().replace(/\s+/g,"-"):null;return r.a.createElement("tr",{key:n,id:n},t.map((function(t,n){return r.a.createElement("td",{key:[t,n].join(".")},t in e?e[t]:null)})))})))));case 2:case"end":return n.stop()}}))}},{key:"getDate",value:function(e){return k({baseURL:"https://api.github.com/repos/oxfordunichess/oucc-backend/",url:"commits",params:{path:e,page:1,per_page:1}}).then((function(e){return e.data})).catch((function(e){return console.error(e),[null]}))}}]),t}(r.a.Component),J=n(57),V=n.n(J),Q={board:"icy_sea",pieces:"alpha",coords:0,size:2,url:{board:"https://www.chess.com/dynboard|",analysis:"https://lichess.org/analysis?fen=|",crazyhouse:"https://lichess.org/analysis/crazyhouse/|",threeCheck:"https://lichess.org/analysis/threeCheck/|","racing-kings":"",chess:""}},Z=function(){function e(t){if(Object(l.a)(this,e),this.argument=t,this._fenArray=void 0,this._positionFenArray=void 0,this._flip=void 0,this._variant=void 0,this._checks=void 0,!this.fen)throw"Invalid FEN!"}return Object(u.a)(e,null,[{key:"regexString",get:function(){return"((?:(?:[pnbrqkPNBRQK~1-8]{1,8})\\/?){8})((?:[pnbrqkPNBRQK]{1,31})\\/?)?\\s+(b|w)\\s+(-|K?Q?k?q?)\\s+(-|[a-h][3-6])\\s+(\\d+)\\s+(\\d+)\\s*(\\+[0-3]\\+[0-3])?"}},{key:"regex",get:function(){return e._regex?e._regex:e._regex=new RegExp(e.regexString)}}]),Object(u.a)(e,[{key:"toJSON",value:function(){return{colour:this.colour,analysisURL:this.analysisURL,imageURL:this.imageURL,description:this.description}}},{key:"fenArray",get:function(){if(this._fenArray)return this._fenArray;var t=this.argument.match(e.regex);return this._fenArray=t||[]}},{key:"positionFenArray",get:function(){if(this._positionFenArray)return this._positionFenArray;var e=this.fenArray.slice(1).reduce((function(e,t){return null===t||void 0===t?e:(e.push(t),e)}),[]);return e[0].endsWith("/")&&(e[0]=e[0].slice(0,-1)),"crazyhouse"===this.variant?e.splice(1,1):"threeCheck"===this.variant&&e.splice(6,1),this._positionFenArray=e}},{key:"fen",get:function(){return this.fenArray[0]}},{key:"positionfen",get:function(){return this.positionFenArray.join(" ").replace(/~/,"")}},{key:"colour",get:function(){return"b"===this.positionFenArray[1]?"black":"white"}},{key:"flip",get:function(){return this._flip?this._flip:"racing-kings"!==this.variant&&(this._flip="black"===this.colour)}},{key:"variant",get:function(){return this._variant?this._variant:this.inhand?this._variant="crazyhouse":this.checks?this._variant="threeCheck":this._variant="chess"}},{key:"inhand",get:function(){if(this.fenArray[2]){var e=this.fenArray[2].match(/(?:[pnbrqkPNBRQK]{1,16})\/?/);return e[1]=e[0].replace(/[^A-Z]/g,""),e[2]=e[0].replace(/[^a-z]/g,""),e||[]}}},{key:"checks",get:function(){if(this._checks)return this._checks;if(this.fenArray[8]){var e=this.fenArray[8].match(/\+([0-3])\+([0-3])/).map((function(e){return isNaN(Number(e))?e:Number(e)}));return this._checks=e||[this.fenArray[8],0,0]}}},{key:"description",get:function(){return/^crazyhouse|threeCheck$/.test(this.variant)?("crazyhouse"===this.variant?(e=this.inhand[1].split("").join(" "),t=this.inhand[2].split("").join(" ")):"threeCheck"===this.variant&&(e="White checks: "+("+".repeat(this.checks[1])||"").bold(),t="Black checks: "+("+".repeat(this.checks[2])||"").bold()),this.flip?e+"\n"+t:t+"\n"+e):"";var e,t}},{key:"lastMove",get:function(){return null}},{key:"imageURL",get:function(){return Q.url.board.replace("|","?"+V.a.stringify({fen:this.positionfen,board:Q.board,piece:Q.pieces,coordinates:Q.coords,size:Q.size,flip:this.flip?1:0,ext:".png"}))}},{key:"analysisURL",get:function(){var e=Q.url[this.variant];return e?e.replace("|",this.fen.replace(/\s+/g,"_")):Q.url.analysis.replace("|",encodeURIComponent(this.fen))}}]),e}();Z._regex=void 0;var X=n(29),$=n.n(X),ee=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=new Z(this.props.src);return r.a.createElement("div",{className:$.a.board},e.description,r.a.createElement("a",{href:e.analysisURL,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.imageURL,alt:"fen: "+e.positionfen})))}}]),t}(r.a.Component),te=n(37),ne=n(99),ae=n.n(ne),re={space:/\s+/g,facebook:/(?:(?:http|https):\/\/)?(?:www.)?facebook.com\/(?:events\/)?(?:[0-9]*\/)/},ie=function(){function e(t,n,a){var r=a.locationReplacers,i=a.mapsLink;Object(l.a)(this,e),this.link=void 0,this.title=void 0,this.status=void 0,this.start=void 0,this.created=void 0,this.end=void 0,this.calendarID=void 0,this.calendarName=void 0,this.color=void 0,this.rawLocation=void 0,this.locationReplacers=void 0,this.rawDescription=void 0,this.map=void 0,this._location=void 0,this._facebookEvent=void 0,this._description=void 0,this.created=new Date(n.created),this.link=n.htmlLink,this.title=n.summary,this.status=n.status,this.start=new Date(n.start.dateTime),this.end=new Date(n.end.dateTime),this.calendarID=t.id,this.calendarName=t.name,this.color=t.color,this.rawLocation=n.location||"",this.locationReplacers=r,this.rawDescription=ae.a.decode(n.description||""),this.map=i?i+this.rawLocation.replace(re.space,"+"):""}return Object(u.a)(e,[{key:"location",get:function(){if(this._location)return this._location;var e,t=this.rawLocation.split(",").shift();return e=this.locationReplacers[t]?this.locationReplacers[t]:t,this._location=e}},{key:"facebookEvent",get:function(){if(this._facebookEvent)return this._facebookEvent;var e="";return re.facebook.test(this.rawDescription)&&(e=this.rawDescription.match(re.facebook)[0]),this._facebookEvent=e}},{key:"description",get:function(){if(this._description)return this._description;for(var e=this.rawDescription,t=e.indexOf("<a");-1!==t;){var n=e.indexOf("/a>")+3;t=(e=e.slice(0,t)+e.slice(n)).indexOf("<a")}return e=e.replace(this.facebookEvent,"").trim(),this._description=e}}]),e}(),se=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).updateColourStatuses=function(e){var t=Object.assign({},n.state.calendars);t[e].status=!t[e].status,n.setState({calendars:t})},n.state={calendarIDs:{},today:t.getEventDate(Date.now()),start:new Date(n.props.settings.start||"6 October 2019"),finish:new Date(n.props.settings.finish||"8 December 2019"),weeks:8,calendars:{},events:{},locationReplacers:{},mapsLink:"",days:[],mounted:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"interpretProps",value:function(e){return{calendarIDs:e.settings.calendarIDs,today:t.getEventDate(Date.now()),start:new Date(e.settings.start||"6 October 2019"),finish:new Date(e.settings.finish||"8 December 2019"),calendars:{},weeks:e.settings.weeks||8,events:{},locationReplacers:e.settings.locationReplacers,mapsLink:e.settings.mapsLink,days:e.settings.days}}},{key:"componentDidUpdate",value:function(){var e=this,n=Object.assign({},this.state.calendarIDs||{}),a={};if(Object.keys(this.props.settings.calendarIDs).length){Object.keys(n).length!==Object.keys(this.props.settings.calendarIDs).length&&(a=this.interpretProps(this.props),this.setState(a));for(var r={},i=0,s=Object.entries(this.props.settings.calendarIDs);i<s.length;i++){var o=s[i],l=Object(c.a)(o,2),u=l[0],h=l[1];n[u]||(r[u]=h)}Object.keys(r).length&&this.renderEvents(r,a).then((function(){var n=Date.now();a.start.getTime()<n&&a.finish.getTime()>n&&(window.location=t.setSection(window.location,e.state.today))})).catch(console.error)}}},{key:"renderFrame",value:function(){for(var e=this,n=[],a=0;a<this.state.weeks+1;a++){var i=new Date(this.state.start);i.setDate(i.getDate()+7*a),n.push(i)}return r.a.createElement("div",{className:this.props.styles.tableContainer},r.a.createElement("table",{className:this.props.styles.table},r.a.createElement("thead",null,r.a.createElement("tr",null,[this.props.settings.title].concat(Object(te.a)(this.props.settings.days)).map((function(t,n){return r.a.createElement("th",{scope:"column",key:[t,n].join("."),className:n?"":e.props.styles.firstColumn},t)})))),r.a.createElement("tbody",null,n.map((function(n,a){for(var i=[],s=function(a){var s=new Date(new Date(n).setDate(n.getDate()+a)),o=t.getEventDate(s),c=!1;e.state.today===o&&(c=!0);var l=r.a.createElement("td",{id:o.toString(),key:o.toString(),className:c?e.props.styles.today:e.props.styles.cell},r.a.createElement("div",null,e.state.events[o]&&!Object.values(e.state.events[o]).every((function(t){return!e.state.calendars[t.calendarID].status}))?e.state.events[o].sort((function(e,t){return e.start.getHours()!==t.start.getHours()?e.start.getHours()-t.start.getHours():e.start.getMinutes()-t.start.getMinutes()})).map((function(n,a){return r.a.createElement("div",{className:e.props.styles.event,key:[o,a].join("."),style:e.state.calendars[n.calendarID].status?{}:{display:"none"}},r.a.createElement("div",{className:e.props.styles.eventHeader},r.a.createElement("h4",{className:[e.props.styles.eventName].join(" ")},r.a.createElement("span",{className:[e.props.styles.status,e.props.styles.toolContainer].join(" "),style:{color:n.color}},"\u2b24",r.a.createElement("span",{className:e.props.styles.tooltip},n.calendarName)),n.facebookEvent?r.a.createElement("a",{className:e.props.styles.eventTitle,href:n.facebookEvent},n.title):n.title)),r.a.createElement("div",null,r.a.createElement("h5",null,t.getDisplayTime(n.start)," ",n.map?r.a.createElement("a",{href:n.map,rel:"noopener noreferrer",target:"_blank"},n.location):n.location,"\n",n.description||null)))})):r.a.createElement("div",{className:e.props.styles.dateNumber},s.getDate())));i.push(l)},o=0;o<7;o++)s(o);return r.a.createElement("tr",{key:"week."+a},r.a.createElement("th",{scope:"row",className:e.props.styles.firstColumn},"Week "+a+"\n"+n.toDateString().slice(4,10)),i)})))))}},{key:"renderEvents",value:function(e,n){var a=this,r={},i=this.props.location.search.toString().slice(1)||"",s=i.split("&").map((function(e){return e.split("=")})).map((function(e){var t=Object(c.a)(e,2),n=t[0];return"false"===t[1]?[n,!1]:[n,!0]})).reduce((function(e,t){var n=Object(c.a)(t,2),a=n[0],r=n[1];return e[a]=r,e}),{});return Promise.all(Object.keys(e).map((function(i){var c,l,u,h,p,m;return o.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,o.a.awrap(k({baseURL:"https://clients6.google.com/calendar/v3/calendars/",url:i+"/events",params:{calendarId:i,singleEvents:!0,timeZone:"Europe/London",maxAttendees:1,maxResults:250,sanitizeHtml:!0,timeMin:new Date(n.start).toISOString(),timeMax:new Date(n.finish).toISOString(),key:"AIzaSyDahTZUtTKORUdsOY3H7BEeOXbwye0nBHI"}}));case 3:c=d.sent,l=c.data,u=l.summary.match(x).join("-").toLowerCase(),h=u in s?s[u]:!("all"in s)||s.all,r[i]||(r[i]={id:i,name:l.summary,ref:u,description:l.description||"",color:e[i],status:h}),p=l.items.map((function(e){return new ie(r[i],e,n)})),m=n.events,p.forEach((function(e){var n=t.getEventDate(e.start);m[n]||(m[n]=[]),m[n].push(e)})),a.setState({calendars:r,events:m}),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(0),console.error(d.t0);case 17:case"end":return d.stop()}}),null,null,[[0,14]])})))}},{key:"renderKey",value:function(){var e=this,t=Object.entries(this.state.calendars).sort((function(e,t){return e[1].name<t[1].name?-1:e[1].name>t[1].name?1:0}));return r.a.createElement("div",{className:this.props.styles.key},t.map((function(t,n){var a=Object(c.a)(t,2),i=(a[0],a[1]);return r.a.createElement("div",{className:e.props.styles.key,key:["keyElement",n].join(".")},r.a.createElement("span",{className:[e.props.styles.status,e.props.styles.toolContainer].join(" "),onClick:function(){return e.updateColourStatuses(i.id)},style:{color:i.color}},i.status?"\u2b24":"\u2b58",i.description?r.a.createElement("span",{className:[e.props.styles.tooltip].join(" ")},i.description):null),r.a.createElement("h4",null,"\u200b "+i.name))})))}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.styles.container},this.renderKey(),this.renderFrame())}}],[{key:"setSection",value:function(e,t){return e.href.slice(0,-e.hash.length)+"#"+t.toString()}},{key:"getEventDate",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.valueOf()/1e3}},{key:"isDateEqual",value:function(e,t){return e.getFullYear()===t.getFullYear()&&(e.getMonth()!==t.getMonth()&&e.getDate()!==t.getDate())}},{key:"getDisplayTime",value:function(e){return e.getHours()+":"+"0".repeat(2-e.getMinutes().toString().length)+e.getMinutes()}}]),t}(r.a.Component),oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={styles:function(){try{return n(216)("./"+a.props.styles)}catch(e){return{}}}(),settings:{calendarIDs:{},mapsLink:"",locationReplacers:{},start:a.props.start,finish:a.props.finish,weeks:parseInt(a.props.weeks),title:a.props.title,days:[]}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getSettings",value:function(e){return e?k({baseURL:"https://oxfordunichess.github.io/oucc-backend/",url:e,params:{sessionID:this.props.sessionID}}).then((function(e){return e.data})).catch(console.error):Promise.reject()}},{key:"componentDidMount",value:function(){var e=this;this.getSettings(this.props.settings).then((function(t){return e.setState({settings:Object.assign(e.state.settings,t)})})).catch((function(){}))}},{key:"render",value:function(){return r.a.createElement(se,Object.assign({},this.props,{settings:this.state.settings,styles:this.state.styles}))}}]),t}(r.a.Component),ce=n(29),le=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:ce.contactForm,method:this.props.method,action:this.props.action},r.a.createElement("table",{className:ce.contactTable},r.a.createElement("tbody",null,this.props.fields.split("\\n").map((function(e){return e.split(",")})).map((function(e,t){var n=Object(c.a)(e,2),a=n[0],i=n[1];return r.a.createElement("tr",{key:[a,t].join(".")},r.a.createElement("th",null,i+":"),r.a.createElement("td",null,"message"!==a?r.a.createElement("input",{className:ce.input,type:"text",name:a,size:55}):r.a.createElement("textarea",{className:ce.textarea,name:"message",rows:6})))})))),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"Submit",value:this.props.submit}),this.props.reset?r.a.createElement("input",{type:"reset",value:this.props.reset}):null)}}]),t}(r.a.Component),ue=n(218),he=new(n(79).ProcessNodeDefinitions)(r.a);function pe(e,t,n){return ue({isValidNode:function(e){return"script"!==e.type},processingInstructions:[{shouldProcessNode:function(e){return console.log(e.name),"data-table"===e.name},processNode:function(e,n){return r.a.createElement(G,Object.assign({},e.attribs,{sessionID:t||void 0}))}},{shouldProcessNode:function(e){return"calendar"===e.name},processNode:function(a,i){return n&&n(),r.a.createElement(oe,Object.assign({},Object.assign({},e,a.attribs),{sessionID:t||void 0}))}},{shouldProcessNode:function(e){return"profile"===e.name},processNode:function(e,t){return r.a.createElement(q,e.attribs)}},{shouldProcessNode:function(e){return"form"===e.name},processNode:function(e,t){return r.a.createElement(le,e.attribs)}},{shouldProcessNode:function(e){return"fen"===e.name},processNode:function(e,t){return r.a.createElement(ee,e.attribs)}},{shouldProcessNode:function(e){return console.log(e.name),!0},processNode:he.processDefaultNode}]})}function me(){var e=navigator.userAgent||navigator.vendor||"";return!!T[0].test(e)||!!T[1].test(e.substr(0,4))}var de=n(17),fe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).context=void 0,n.state={page:"",wide:!1},n.setWide=function(){n.state.wide||n.setState({wide:!0})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;t.getPage(this.props.page,this.context).then((function(t){if(t){var n=!1;t.toLowerCase().includes("<calendar")&&(n=!0),e.setState({page:t,wide:n})}}))}},{key:"render",value:function(){var e=this,t=this.state.page.trim().split("\n---\n"),n=this.props.title?this.props.title+" | OUCC":"OUCC";document.title=n;var a=document.querySelector('meta[name="description"]');return this.props.description&&a.setAttribute("content",this.props.description),r.a.createElement(r.a.Fragment,null,r.a.createElement(R.Helmet,null,r.a.createElement("title",null,n)),r.a.createElement("div",{className:[de.page,me()?de.mobilePage:""].join(" ")},r.a.createElement("div",{className:[de.main,me()?de.mobileMain:""].join(" ")},t.map((function(t,n){return r.a.createElement("div",{key:["section",n].join("."),className:[de.section,e.state.wide?de.wide:"",me()?de.mobileSection:""].join(" ")},r.a.createElement(M.a,{source:t.trim(),escapeHtml:!1,astPlugins:[pe(e.props,e.context,e.setWide)],renderers:{link:F},transformImageUri:function(e){return(e.startsWith(".")||e.startsWith("/"))&&(e=W.a.resolve(_+"data/",e)),e}}))})))))}}],[{key:"getPage",value:function(){var e,t,n,a,r=arguments;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"main",t=r.length>1?r[1]:void 0,i.prev=2,n="pages/".concat(e+".md"),i.next=6,o.a.awrap(k({url:n,params:{sessionID:t}}));case 6:return a=i.sent,i.abrupt("return",a.data);case 10:return i.prev=10,i.t0=i.catch(2),console.error(i.t0),i.abrupt("return",null);case 14:case"end":return i.stop()}}),null,null,[[2,10]])}}]),t}(r.a.Component);fe.contextType=b;var ve=n(17),be=n.n(ve),ge=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).context=void 0,n.state={mounted:!1,wide:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.state.mounted||this.props.articles.length&&window.location.hash&&(window.location=window.location.toString().slice(0),this.setState({mounted:!0}))}},{key:"render",value:function(){var e=this,n=new Map,a=this.props.articles.map((function(a){if("string"!==typeof a)return null;if(!a)return console.error("Bad Markdown document:\n"+a),null;for(var i=a.split("\n"),s=i.shift().trim();s.startsWith("#");)s=s.slice(1);var o=(s=s.trim()).match(x).join("-").toLowerCase(),c=["## [".concat(s,"](").concat(t.setSection(window.location,o),")")].concat(Object(te.a)(i)).join("\n");return n.set(o,{title:s+" | OUCC",image:(c.match(C)||[])[1],description:i.find((function(e){return e.trim()&&!e.trim().startsWith("#")}))}),r.a.createElement("div",{id:o,key:o,className:[be.a.section,e.state.wide?be.a.wide:"",me()?be.a.mobileSection:""].join(" ")},r.a.createElement(M.a,{source:c,escapeHtml:!1,astPlugins:[pe(e.props,e.context)],renderers:{link:F},transformImageUri:function(e){return(e.startsWith(".")||e.startsWith("/"))&&(e=W.a.resolve(_+"data/",e)),e}}),r.a.createElement("hr",null))})),i={};return window.location.hash&&n.get(window.location.hash.slice(1))&&(i=n.get(window.location.hash.slice(1))),r.a.createElement(r.a.Fragment,null,r.a.createElement(R.Helmet,{defaultTitle:this.props.title?this.props.title+" | OUCC":"OUCC"},r.a.createElement("title",null,i.title),r.a.createElement("meta",{property:"og:type",content:"article"}),i.description?r.a.createElement("meta",{name:"description",content:i.description}):null,i.image?r.a.createElement("meta",{property:"og:image",content:i.image}):null),r.a.createElement("div",{className:[be.a.page,me()?be.a.mobilePage:""].join(" ")},r.a.createElement("div",{className:[be.a.main,me()?be.a.mobileMain:""].join(" ")},a)))}}],[{key:"setSection",value:function(e,t){return e.href.slice(0,-e.hash.length)+"#"+t}}]),t}(r.a.Component);ge.contextType=b;var ye=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.Helmet,null,r.a.createElement("title",null,this.props.title?this.props.title+" | OUCC":"OUCC")),r.a.createElement("div",{id:"main"},r.a.createElement("h1",null,"404: Not found"),r.a.createElement("h3",null,r.a.createElement(f.b,{to:"/"},"Return to home"))))}}]),t}(r.a.Component),_e=n(100),ke=n(101),we=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={index:_e,articles:[],sessionID:Math.random().toString(16).slice(2)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.defaults.params={},k.defaults.params.sessionID=this.state.sessionID,Promise.all([t.getIndex(this.state.sessionID).then((function(t){return t?e.setState({index:t}):null})),t.fetchArticles(this.state.sessionID).then((function(t){return e.setState({articles:t})}))])}},{key:"render",value:function(){var e=this,t=Object.entries(this.state.index).map((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1];return a.startsWith("_")||"object"!==typeof i?null:r.a.createElement(d.b,{exact:!0,path:"/".concat(i.private?"private/":"").concat(a),key:a+"_route",render:function(t){if(i.open&&window.open(i.open),i.redirect)return r.a.createElement(d.a,{to:i.redirect});var n=a;return i.file&&(n=i.file),r.a.createElement(b.Provider,{value:e.state.sessionID},r.a.createElement(fe,Object.assign({},t,{page:n,title:i.title})))}})}));return r.a.createElement(b.Provider,{value:this.state.sessionID},r.a.createElement(f.a,{basename:"/oucc-frontend"},r.a.createElement(d.b,{render:function(n){var a=n.location;switch(a.pathname){case"/articleData.json":return JSON.stringify(e.state.articles,null,4);case"/version":return ke.version;default:return r.a.createElement(r.a.Fragment,null,me()?r.a.createElement(j,null):r.a.createElement(U,{articles:e.state.articles}),r.a.createElement(d.d,{location:a},t,r.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(fe,Object.assign({},e,{page:"main"}))}}),r.a.createElement(d.b,{exact:!0,path:"/curr_news",render:function(t){return r.a.createElement(ge,Object.assign({},t,{title:"Current News",articles:e.state.articles}))}}),r.a.createElement(d.b,{path:"*",component:ye,status:404})))}}})))}}],[{key:"getArticle",value:function(e,t){return k({url:"news/"+e,params:{sessionID:t},method:"GET",maxRedirects:5}).then((function(e){return e.data})).catch((function(e){return e&&console.error(e),""}))}},{key:"getArticleList",value:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(k({baseURL:"https://api.github.com/repos/oxfordunichess/oucc-backend/",url:"contents/news/",params:{sessionID:e},method:"get",maxRedirects:5}).then((function(e){return e.data})).catch((function(e){return console.error(e),[]})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}},{key:"getIndex",value:function(e){return k({url:"index.json",params:{sessionID:e}}).then((function(e){return e.data})).catch((function(e){console.error(e)}))}},{key:"fetchArticles",value:function(e){var n,a,r,i,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,o.a.awrap(t.getArticleList(e).catch((function(e){return console.error(e),[]})));case 2:return n=c.sent,a=(n||[]).map((function(e){return e.name})),r=a.filter((function(e){return e.endsWith(".md")&&N.test(e)})),i=r.sort((function(e,t){var n=new Date(e.split("_")[0]),a=new Date(t.split("_")[0]);return n.getTime()!==n.getTime()?1:a.getTime()!==a.getTime()?-1:a.getTime()-n.getTime()})),s=new Array(i.length),i.forEach((function(n,a){return s[a]=t.getArticle(n,e).catch(console.error)})),c.next=10,o.a.awrap(Promise.all(s));case 10:return c.abrupt("return",c.sent);case 11:case"end":return c.stop()}}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(i.render)(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},29:function(e,t,n){e.exports={profile:"components_profile__3x-uE",thumbnail:"components_thumbnail__2zEfG",leftPane:"components_leftPane__1eZcm",text:"components_text__2pHeI",board:"components_board__pYlRj",input:"components_input__38iVB",textarea:"components_textarea__3U2rR",contactTable:"components_contactTable__8KJVO"}}},[[102,1,2]]]);
//# sourceMappingURL=main.556ce609.chunk.js.map